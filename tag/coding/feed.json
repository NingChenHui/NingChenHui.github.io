{
    "version": "https://jsonfeed.org/version/1",
    "title": "欢迎 • All posts by \"coding\" tag",
    "description": "DESS, THU",
    "home_page_url": "https://ningchenhui.github.io",
    "items": [
        {
            "id": "https://ningchenhui.github.io/ESM/OMARE/CoarsenOperator/",
            "url": "https://ningchenhui.github.io/ESM/OMARE/CoarsenOperator/",
            "title": "OMARE 粗化算子",
            "date_published": "2022-06-22T10:47:52.000Z",
            "content_html": "<p>OMARE CoarsenOperator <span id=\"more\"></span></p>\n<h1 id=\"新增自定义插值算子\"><a class=\"markdownIt-Anchor\" href=\"#新增自定义插值算子\">#</a> 新增自定义插值算子</h1>\n<p>参考  <code>NemoSpaceInterpCenter.h</code>  中的实现。</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"><span>NemoSpaceMeanCenter.h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">NemoSpaceMeanCenter</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> xfer<span class=\"token double-colon punctuation\">::</span><span class=\"token class-name\">CoarsenOperator</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">NDIM</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">NemoSpaceMeanCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\td_name_id <span class=\"token operator\">=</span> <span class=\"token string\">\"NEMO_MEAN_INTERP\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\talpha <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//TODO 粗化时细网格值的权重</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>   * @brief 在指定的粗网格内，</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>   * 将细网格片上指定的数据片插值到粗网格片上指定的数据片上.</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>   * @param fine 输入参数，Patch 类，表示细网格片.</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>   * @param coarse 输入参数，Patch 类，表示粗网格片.</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   * @param dst_component 输入参数，整型，表示目的数据片.</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   * @param src_component 输入参数，整型，表示源数据片.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   * @param  coarse_box 输入参数，Box 类，表示粗化网格.</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>   * @param ratio 输入参数，整型向量类，表示粗化比率.</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">void</span> <span class=\"token function\">coarsen</span><span class=\"token punctuation\">(</span>hier<span class=\"token double-colon punctuation\">::</span>Patch<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> coarse<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> hier<span class=\"token double-colon punctuation\">::</span>Patch<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> fine<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>               <span class=\"token keyword\">const</span> <span class=\"token keyword\">int</span> dst_component<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">int</span> src_component<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>               <span class=\"token keyword\">const</span> hier<span class=\"token double-colon punctuation\">::</span>Box<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> coarse_box<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>               <span class=\"token keyword\">const</span> hier<span class=\"token double-colon punctuation\">::</span>IntVector<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">></span><span class=\"token operator\">&amp;</span> ratio<span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">const</span> hier<span class=\"token double-colon punctuation\">::</span>Box<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">></span> fine_box <span class=\"token operator\">=</span> hier<span class=\"token double-colon punctuation\">::</span><span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">></span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">refine</span><span class=\"token punctuation\">(</span>coarse_box<span class=\"token punctuation\">,</span> ratio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"><span>NemoFort.h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token keyword\">void</span> <span class=\"token function\">space_mean_center_</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> ir00<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jr00<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> ic00<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jc00<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                            <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> ir0<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jr0<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> ir1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jr1<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                            <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> ic0<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jc0<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> ic1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jc1<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                            <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jpir<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jpjr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span><span class=\"token operator\">*</span> ur<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                            <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jpic<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token operator\">&amp;</span> jpjc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span><span class=\"token operator\">*</span> uc<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                            <span class=\"token keyword\">int</span><span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"fortran-实现\"><a class=\"markdownIt-Anchor\" href=\"#fortran-实现\">#</a> Fortran 实现</h1>\n<figure class=\"highlight fortran\"><figcaption data-lang=\"fortran\"><span>JASMIN_FILLGHOST.F90</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SUBROUTINE</span> space_mean_center<span class=\"token punctuation\">(</span> ir00<span class=\"token punctuation\">,</span> jr00<span class=\"token punctuation\">,</span> ic00<span class=\"token punctuation\">,</span> jc00<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&amp;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                                ir0<span class=\"token punctuation\">,</span> jr0<span class=\"token punctuation\">,</span> ir1<span class=\"token punctuation\">,</span> jr1<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&amp;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                                ic0<span class=\"token punctuation\">,</span> jc0<span class=\"token punctuation\">,</span> ic1<span class=\"token punctuation\">,</span> jc1<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&amp;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                                jpir<span class=\"token punctuation\">,</span> jpjr<span class=\"token punctuation\">,</span> uf<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&amp;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                                jpic<span class=\"token punctuation\">,</span> jpjc<span class=\"token punctuation\">,</span> uc<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&amp;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                                ratio<span class=\"token punctuation\">)</span> bind<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"space_mean_center_\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">! input &amp; output            </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>                        <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   ir00<span class=\"token punctuation\">,</span> jr00<span class=\"token punctuation\">,</span> ic00<span class=\"token punctuation\">,</span> jc00      <span class=\"token comment\">!patch lower index (ghost included)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>                        <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   ir0<span class=\"token punctuation\">,</span> jr0<span class=\"token punctuation\">,</span> ir1<span class=\"token punctuation\">,</span> jr1          <span class=\"token comment\">!refine box start/end index</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>                        <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   ic0<span class=\"token punctuation\">,</span> jc0<span class=\"token punctuation\">,</span> ic1<span class=\"token punctuation\">,</span> jc1          <span class=\"token comment\">!coarse box start/end index</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>                        <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   jpir<span class=\"token punctuation\">,</span> jpjr                  <span class=\"token comment\">!refine patch size (ghost included)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">REAL</span><span class=\"token punctuation\">(</span>wp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">DIMENSION</span><span class=\"token punctuation\">(</span>jpir<span class=\"token punctuation\">,</span>jpjr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   uf                          <span class=\"token comment\">!refine patch data</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>                        <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   jpic<span class=\"token punctuation\">,</span> jpjc                  <span class=\"token comment\">!coarse patch size (ghost included)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">REAL</span><span class=\"token punctuation\">(</span>wp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">DIMENSION</span><span class=\"token punctuation\">(</span>jpic<span class=\"token punctuation\">,</span>jpjc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">inout</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   uc                       <span class=\"token comment\">!coarse patch data</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>  <span class=\"token keyword\">DIMENSION</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>         <span class=\"token keyword\">INTENT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span>   ratio                       <span class=\"token comment\">!x refinement ratio NDIM?</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">! local</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">::</span> ic<span class=\"token punctuation\">,</span> jc</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">::</span> ic_loc<span class=\"token punctuation\">,</span> jc_loc</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">REAL</span><span class=\"token punctuation\">(</span>wp<span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span> sum_</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">DO</span> jc <span class=\"token operator\">=</span> jc0<span class=\"token punctuation\">,</span> jc1</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">DO</span> ic <span class=\"token operator\">=</span> ic0<span class=\"token punctuation\">,</span> ic1</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        sum_ <span class=\"token operator\">=</span> SUM<span class=\"token punctuation\">(</span>uf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>ic<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>ratio<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span>ir00<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span>ic<span class=\"token operator\">*</span>ratio<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span>ir00<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>jc<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>ratio<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span>jr00<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span>jc<span class=\"token operator\">*</span>ratio<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span>jr00<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">! coarse local index</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        ic_loc <span class=\"token operator\">=</span> ic <span class=\"token operator\">-</span> ic00 <span class=\"token operator\">+</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        jc_loc <span class=\"token operator\">=</span> jc <span class=\"token operator\">-</span> jc00 <span class=\"token operator\">+</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        uc<span class=\"token punctuation\">(</span>ic_loc<span class=\"token punctuation\">,</span> jc_loc<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> sum_ <span class=\"token operator\">/</span> <span class=\"token keyword\">REAL</span><span class=\"token punctuation\">(</span>ratio<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>ratio<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>wp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">ENDDO</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">ENDDO</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">END SUBROUTINE</span> space_mean_center</pre></td></tr></table></figure><h1 id=\"启用-overlay\"><a class=\"markdownIt-Anchor\" href=\"#启用-overlay\">#</a> 启用 Overlay</h1>\n<p>这里  <code>sync_time % 1 != 0</code>  的  <code>1</code>  改为 Overlay 的步长。</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"><span>NemoLevelIntegrator_body.C Producer.py</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/****************************************************************</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * AMR, 同步粗网格层.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> *****************************************************************/</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">void</span> NemoLevelIntegrator<span class=\"token operator\">::</span><span class=\"token function\">synchronizeCoarserLevel</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> JASMIN<span class=\"token operator\">::</span>tbox<span class=\"token operator\">::</span>Pointer<span class=\"token operator\">&lt;</span>JASMIN<span class=\"token operator\">::</span>hier<span class=\"token operator\">::</span>BasePatchHierarchy<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">>></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    hierarchy<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token keyword\">int</span> finer_level_number<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">double</span> sync_time<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token keyword\">double</span> coarser_old_time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  using namespace std<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  using namespace JASMIN<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span>sync_time <span class=\"token operator\">%</span> <span class=\"token number\">1</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  tbox<span class=\"token operator\">::</span>pout<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"***********************************************\"</span><span class=\"token operator\">&lt;&lt;</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  tbox<span class=\"token operator\">::</span>pout<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"Synchronize (Overlay) Coarser Level... \"</span><span class=\"token operator\">&lt;&lt;</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  tbox<span class=\"token operator\">::</span>pout<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"     finer_level_number==\"</span><span class=\"token operator\">&lt;&lt;</span>finer_level_number<span class=\"token operator\">&lt;&lt;</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  tbox<span class=\"token operator\">::</span>pout<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"     sync_time==\"</span><span class=\"token operator\">&lt;&lt;</span>sync_time<span class=\"token operator\">&lt;&lt;</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  tbox<span class=\"token operator\">::</span>pout<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"     coarser_old_time==\"</span><span class=\"token operator\">&lt;&lt;</span>coarser_old_time<span class=\"token operator\">&lt;&lt;</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  tbox<span class=\"token operator\">::</span>pout<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"***********************************************\"</span><span class=\"token operator\">&lt;&lt;</span>endl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">// 校正相邻粗网格层的通量</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  tbox<span class=\"token operator\">::</span>Pointer<span class=\"token operator\">&lt;</span>hier<span class=\"token operator\">::</span>PatchLevel<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">>></span> finer_level <span class=\"token operator\">=</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    hierarchy<span class=\"token operator\">-></span><span class=\"token function\">getPatchLevel</span><span class=\"token punctuation\">(</span>finer_level_number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  tbox<span class=\"token operator\">::</span>Pointer<span class=\"token operator\">&lt;</span>hier<span class=\"token operator\">::</span>PatchLevel<span class=\"token operator\">&lt;</span>NDIM<span class=\"token operator\">>></span> coarser_level <span class=\"token operator\">=</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    hierarchy<span class=\"token operator\">-></span><span class=\"token function\">getPatchLevel</span><span class=\"token punctuation\">(</span>finer_level_number <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token keyword\">double</span> actual_dt <span class=\"token operator\">=</span> sync_time <span class=\"token operator\">-</span> coarser_old_time<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token comment\">// 细网格 -> 粗网格 (具体方法在初始化构件中)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  sync_overlay_intc<span class=\"token operator\">-></span><span class=\"token function\">synchronizeCoarserLevel</span><span class=\"token punctuation\">(</span>finer_level<span class=\"token punctuation\">,</span> sync_time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"注册使用插值算子的变量\"><a class=\"markdownIt-Anchor\" href=\"#注册使用插值算子的变量\">#</a> 注册使用插值算子的变量</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"><span>Producer.py var_db.py</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>OVERLAY_DOUBLE_INTERP_CENTER <span class=\"token operator\">=</span> <span class=\"token string\">\"NEMO_MEAN_INTERP\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>t_field_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">\"tsn\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tsb\"</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token string\">\"sshn\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"sshb\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token string\">\"avm_k\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Overlayregister.h\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token comment\"># T</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token keyword\">for</span> field <span class=\"token keyword\">in</span> t_field_list<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"intc->registerCoarsenPatchData(manager->\"</span><span class=\"token operator\">+</span>field<span class=\"token operator\">+</span><span class=\"token string\">\"_id,\\n\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"                        \\\"\"</span><span class=\"token operator\">+</span>OVERLAY_DOUBLE_INTERP_CENTER<span class=\"token operator\">+</span><span class=\"token string\">\"\\\",\\n\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"                        manager->\"</span><span class=\"token operator\">+</span>field<span class=\"token operator\">+</span><span class=\"token string\">\"_id);\\n\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><figure class=\"highlight c\"><figcaption data-lang=\"c\"><span>main_Nemo.C</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"NemoSpaceMeanCenter.h\"</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// add user-define sapce refine operator</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>tbox<span class=\"token operator\">::</span>Pointer<span class=\"token operator\">&lt;</span>JASMIN<span class=\"token operator\">::</span>pdat<span class=\"token operator\">::</span>NemoSpaceMeanCenter<span class=\"token operator\">></span> nemo_space_mean_center_operator</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token operator\">=</span> new JASMIN<span class=\"token operator\">::</span>pdat<span class=\"token operator\">::</span><span class=\"token function\">NemoSpaceMeanCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>grid_geometry<span class=\"token operator\">-></span><span class=\"token function\">addSpatialCoarsenOperator</span><span class=\"token punctuation\">(</span>nemo_space_mean_center_operator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"与-conservative_coarsen-比较\"><a class=\"markdownIt-Anchor\" href=\"#与-conservative_coarsen-比较\">#</a> 与 “CONSERVATIVE_COARSEN” 比较</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>h5diff omare_mean/build/exp_l2/javis_dump.00006/processor_cluster.00000.jasmin omare_220608/build/exp_l2/javis_dump.00006/processor_cluster.00000.jasmin</pre></td></tr></table></figure><pre><code>size:           [2400]           [2400]\nposition        sshn            sshn            difference          \n------------------------------------------------------------\n[ 900 ]          6.04414e-07     6.04414e-07     5.68434e-14    \n1 differences found\ndataset: &lt;/processor.00000/level.00001/patch.00000/un.38&gt; and &lt;/processor.00000/level.00001/patch.00000/un.38&gt;\nsize:           [15000]           [15000]\nposition        un.38           un.38           difference          \n------------------------------------------------------------\n[ 145 ]          -1.00591e-05    -1.00591e-05    9.09495e-13    \n[ 210 ]          -1.2723e-06     -1.2723e-06     1.13687e-13    \n[ 1985 ]          -8.53e-07       -8.53e-07       5.68434e-14    \n[ 2438 ]          -1.50793e-05    -1.50793e-05    9.09495e-13    \n</code></pre>\n<p>加上  <code>1e-10</code>  的限制后只有 14 个差异值。</p>\n<h2 id=\"sshn\"><a class=\"markdownIt-Anchor\" href=\"#sshn\">#</a> sshn</h2>\n<p class=\"gallery\" data-height=\"400\"><img data-src=\"0608.png\" alt=\"\" title=\"jasmin\"><br>\n<img data-src=\"mean.png\" alt=\"mean\"><br>\n<img data-src=\"bug.png\" alt=\"赋0\"></p>\n",
            "tags": [
                "Memo",
                "Coding"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/ESM/NEMO/install/",
            "url": "https://ningchenhui.github.io/ESM/NEMO/install/",
            "title": "Install NEMO notes",
            "date_published": "2022-05-01T15:19:13.000Z",
            "content_html": "<p>NEMO 安装<span id=\"more\"></span></p>\n<h1 id=\"prerequisites\"><a class=\"markdownIt-Anchor\" href=\"#prerequisites\">#</a> Prerequisites</h1>\n<div class=\"note info\">\n<p>Suggestion from J Mak<sup>[4]</sup>:<br>\nGet someone who knows what they are doing to do it for you! Compiling the following from scratch is not the most interesting activity and is actually quite fiddly (especially the HDF5 and NetCDF4 stuff)…if you don’t have access to people who can do that, then try.</p>\n</div>\n<p>Before installing these, run  <code>which h5copy</code>  and  <code>which nc-config</code>  to see if hdf5 and netcdf are already available. If so, we can skip installing them and zlib.</p>\n<h2 id=\"zlib\"><a class=\"markdownIt-Anchor\" href=\"#zlib\">#</a> zlib</h2>\n<p>When I was trying to install Netcdf, I found this requirement in its  <code>INSTALL.md</code>  file. After downloading packages from <span class=\"exturl\" data-url=\"ZnRwOi8vZnRwLnVuaWRhdGEudWNhci5lZHUvcHViL25ldGNkZi9uZXRjZGYtNA==\">server</span>, build it like:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./configure --prefix<span class=\"token operator\">=</span>/home/user/study/software/zlib</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">make</span> check <span class=\"token function\">install</span></pre></td></tr></table></figure><h2 id=\"hdf5\"><a class=\"markdownIt-Anchor\" href=\"#hdf5\">#</a> hdf5</h2>\n<p>Specifying the location of the zlib library:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">CC</span><span class=\"token operator\">=</span>/usr/local/mpich-3.1/bin/mpicc ./configure --with-zlib<span class=\"token operator\">=</span>/home/user/study/software/zlib --prefix<span class=\"token operator\">=</span>/home/user/study/software/hdf5 --<span class=\"token punctuation\">&#123;</span>enable-fortran,disable-shared,enable-parallel<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">make</span> check <span class=\"token function\">install</span></pre></td></tr></table></figure><p>I just add  <code>[--&#123;enable-fortran,disable-shared,enable-parallel&#125;]</code>  from offical documentation of NEMO<sup>[1]</sup>, but it may bring some problems.</p>\n<h2 id=\"netcdf\"><a class=\"markdownIt-Anchor\" href=\"#netcdf\">#</a> netcdf</h2>\n<p>After HDF5 is done, build netcdf, specifying the location of the HDF5, zlib, and<br>\nlibraries in the CPPFLAGS and LDFLAGS environment variables. For example:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">CC</span><span class=\"token operator\">=</span>mpicc <span class=\"token assign-left variable\">CPPFLAGS</span><span class=\"token operator\">=</span>-I/home/user/study/software/hdf5/include <span class=\"token assign-left variable\">LDFLAGS</span><span class=\"token operator\">=</span>-L/home/user/study/software/hdf5/lib <span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span>/home/user/study/software/hdf5/lib:/home/user/study/software/zlib/lib ./configure --prefix<span class=\"token operator\">=</span>/home/user/study/software/netcdf-c-p --<span class=\"token punctuation\">&#123;</span>enable-fortran,disable-shared,enable-parallel,enable-parallel-tests<span class=\"token punctuation\">&#125;</span> --enable-netcdf4</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">make</span> check <span class=\"token function\">install</span></pre></td></tr></table></figure><p>You can check the output or setting file in  <code>lib</code>  to see whether parallel IO is on.</p>\n<p>Then build netcdf-fortran like:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">CC</span><span class=\"token operator\">=</span>mpicc <span class=\"token assign-left variable\">FC</span><span class=\"token operator\">=</span>mpif90 <span class=\"token assign-left variable\">F77</span><span class=\"token operator\">=</span>mpif77 <span class=\"token assign-left variable\">CPPFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-I/home/user/study/software/netcdf-c-p/include -I/home/user/study/software/hdf5/include -I/home/user/study/software/zlib/include\"</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token assign-left variable\">LDFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-L/home/user/study/software/netcdf-c-p/lib -L/home/user/study/software/hdf5/lib -L/home/user/study/software/zlib/lib\"</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span>/home/user/study/software/netcdf-c-p/lib:/home/user/study/software/hdf5/lib:/home/user/study/software/zlib/lib <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token assign-left variable\">LIBS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-lnetcdf -lhdf5_hl -lhdf5 -lz -lcurl\"</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>./configure --disable-shared --prefix<span class=\"token operator\">=</span>/home/user/study/software/netcdf-f-p</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">make</span> check</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token function\">install</span></pre></td></tr></table></figure><h2 id=\"ncview\"><a class=\"markdownIt-Anchor\" href=\"#ncview\">#</a> ncview</h2>\n<p>It is not necessary, but it’s a easy tool to check the nc file.</p>\n<p>First install Xaw using  <code>sudo yum install libXaw-devel</code> .<br>\nThen just following [6].</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./configure --prefix<span class=\"token operator\">=</span><span class=\"token variable\">$&#123;<span class=\"token environment constant\">HOME</span>&#125;</span>/study/software/ncview/ --with-udunits2_incdir<span class=\"token operator\">=</span><span class=\"token variable\">$&#123;<span class=\"token environment constant\">HOME</span>&#125;</span>/study/software/udunits/include/ --with-udunits2_libdir<span class=\"token operator\">=</span><span class=\"token variable\">$&#123;<span class=\"token environment constant\">HOME</span>&#125;</span>/study/software/udunits/lib/ --with-png_incdir<span class=\"token operator\">=</span><span class=\"token variable\">$&#123;<span class=\"token environment constant\">HOME</span>&#125;</span>/study/software/libpng/include/ --with-png_libdir<span class=\"token operator\">=</span><span class=\"token variable\">$&#123;<span class=\"token environment constant\">HOME</span>&#125;</span>/study/software/libpng/lib/</pre></td></tr></table></figure><h2 id=\"xios\"><a class=\"markdownIt-Anchor\" href=\"#xios\">#</a> XIOS</h2>\n<p>Refer to wiki<sup>[2]</sup> and J Mak’s notes<sup>[4]</sup>, first</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>svn checkout -r <span class=\"token number\">1566</span> http://forge.ipsl.jussieu.fr/ioserver/svn/XIOS/branchs/xios-2.5 xios-2.5</pre></td></tr></table></figure><p>NEMO has requirements for the XIOS version, remember to check that.</p>\n<p>Then modify files  <code>arch-GCC_LINUX.*</code>  in  <code>arch</code> , add the  <code>-ldl</code>  flag to  <code>HDF5_LIB</code>  in  <code>arch-GCC_local.path</code>  since we build hdf5 library as a not shareable.</p>\n<p>The  <code>boost_dir</code>  and  <code>OASIS_dir</code>  are not necessary, just leave them.</p>\n<p>Finally, run</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./make_xios --arch GCC_LINUX</pre></td></tr></table></figure><h1 id=\"nemo\"><a class=\"markdownIt-Anchor\" href=\"#nemo\">#</a> NEMO</h1>\n<p>Copy and rename an configuration file from an architecture similar to our own. Set the following variables:</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>%NCDF_HOME    &#x2F;usr&#x2F;local&#x2F;path&#x2F;to&#x2F;netcdf</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>%HDF5_HOME    &#x2F;usr&#x2F;local&#x2F;path&#x2F;to&#x2F;hdf5</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>%XIOS_HOME    &#x2F;home&#x2F;$( whoami )&#x2F;path&#x2F;to&#x2F;xios-trunk</pre></td></tr></table></figure><p>Compile a reference configuration:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./makenemo –m <span class=\"token string\">'my_arch'</span> –r GYRE_PISCES</pre></td></tr></table></figure><p>And find  <code>nemo</code>  in  <code>cfgs/GYRE_PISCES/EXP00</code> .</p>\n<h1 id=\"good-luck\"><a class=\"markdownIt-Anchor\" href=\"#good-luck\">#</a> Good luck!</h1>\n<p>Hope you can find nemo soon.</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>._      ._      ._      ._      ._    </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  _.-._)&#96;\\_.-._)&#96;\\_.-._)&#96;\\_.-._)&#96;\\_.-._)&#96;\\_ </pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      o         _,           _,             </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        o      .&#39; (        .-&#39; &#x2F;             </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      o     _&#x2F;..._&#39;.    .&#39;   &#x2F;              </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  (    o .-&#39;&#96;      &#96; &#39;-.&#x2F;  _.&#39;               </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  )    ( o)           ;&#x3D; &lt;_         (       </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  (      &#39;-.,\\\\__ __.-;&#96;\\   &#39;.        )      </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  )  )       \\) |&#96;\\ \\)  &#39;.   \\      (   (   </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  (  (           \\_&#x2F;       &#39;-._\\      )   )  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  )  ) jgs                     &#96;    (   (   </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre></td></tr></table></figure><h1 id=\"reference\"><a class=\"markdownIt-Anchor\" href=\"#reference\">#</a> Reference</h1>\n<ol>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaXRlcy5uZW1vLW9jZWFuLmlvL3VzZXItZ3VpZGUvaW5zdGFsbC5odG1s\">NEMO documentation</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3JnZS5pcHNsLmp1c3NpZXUuZnIvaW9zZXJ2ZXIvd2lraS9kb2N1bWVudGF0aW9u\">XIOS wiki</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zdXBwb3J0Lmh1YXdlaWNsb3VkLmNvbS9wcnRnLWt1bnBlbmdocGNzL2t1bnBlbmduZW1vXzAyXzAwMDEuaHRtbA==\">Kunpeng NEMO transplant</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9uZW1vLXJlbGF0ZWQucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L2NvbXBpbGF0aW9uX25vdGVzL25lbW8zNi5odG1s\">J Mak NEMO notes</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96ZW5vZG8ub3JnL3JlY29yZC8zMzg2MzEwIy5ZbTEwNUpKQnhRSQ==\">NEMO Reference configurations inputs</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNDcxMzM4\">NCVIEW installation</span></li>\n</ol>\n",
            "tags": [
                "Memo",
                "Coding"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/ESM/OMARE/omare220205/",
            "url": "https://ningchenhui.github.io/ESM/OMARE/omare220205/",
            "title": "OMARE 学习使用（一）",
            "date_published": "2022-02-05T11:19:13.000Z",
            "content_html": "<p>Learn to run OMARE（i）<span id=\"more\"></span></p>\n<p>step 1 - 解压源代码后，在目录里创建  <code>build</code>  文件夹<br>\n step 2 - 修改文件中的路径</p>\n<pre><code>a. CMakeLists.txt\n  set(JASMIN_VERSION 新路径)\n  debug 行运行时注释掉，调试时开启\nb. input/GYRE/namelist_cfg (之后可以在build中改)\n  nn_GYRE  resolution\n</code></pre>\n<p>step 3 - 进入  <code>build</code>  文件夹，执行  <code>~/jasmin4/bin/cmake ../</code> <br>\nstep 4 - 执行  <code>make</code>  ( <code>make -j 50</code>  多线程)<br>\nstep 5 -  <code>./main2d ../input/nemo-2d.input</code>   运行不完 / 测试时可  <code>ctrl+c</code>  中止<br>\n step 6 -  <code>ctrl+r</code>   <code>teravap</code>  查看数据 （ <code>/usr/local/teravap/teravap2_2_0.linux- x86_64/bin/teravap</code> ）<br>\n         数据在  <code>./build/javis../dumps.javis</code>  中，打开后 Add - Mesh , Draw。更换数据需要重启。</p>\n<p>修改完 h 文件后执行 step 4</p>\n<p>虚拟机 mpi 运行</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mpirun -n <span class=\"token number\">4</span> ./main2d <span class=\"token punctuation\">..</span>/input/nemo-2d.input</pre></td></tr></table></figure><p>运行步数在  <code>nemo-2d.input</code>  里改， <code>namelist</code>  里无效。</p>\n<p>使用 gdb 调试时 Fortran 的代码行是混乱的，用 watch 下断点。</p>\n<p>gdb 调试方法参考 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dhbmdxaWppbnlhL2FydGljbGUvZGV0YWlscy8xMDE1NTkzODY=\">这篇博客</span>。</p>\n<p>调试例子</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>b NemoSpaceMeanCenter :: coarsen</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>b postprocessCoarsenOperator</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">set</span> args <span class=\"token punctuation\">..</span>/input/nemo-2d.input</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>r</pre></td></tr></table></figure><p>对于 shared_ptr</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>p fdata</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token variable\">$3</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token operator\">&lt;</span>boost::shared_ptr<span class=\"token operator\">&lt;</span>JASMIN::pdat::CellData<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span>, double<span class=\"token operator\">></span> <span class=\"token operator\">>></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>px <span class=\"token operator\">=</span> 0x9a95ed0, pn <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      pi_ <span class=\"token operator\">=</span> 0x9a96460<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>, <span class=\"token operator\">&lt;</span>No data fields<span class=\"token operator\">></span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>使用如下命令查看。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>p <span class=\"token variable\"><span class=\"token punctuation\">((</span>JASMIN<span class=\"token operator\">:</span><span class=\"token operator\">:</span>pdat<span class=\"token operator\">:</span><span class=\"token operator\">:</span>CellData<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>double<span class=\"token operator\">></span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>fdata<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>getDepth<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>p <span class=\"token operator\">*</span><span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span>JASMIN<span class=\"token operator\">:</span><span class=\"token operator\">:</span>pdat<span class=\"token operator\">:</span><span class=\"token operator\">:</span>CellData<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>double<span class=\"token operator\">></span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>fdata<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span>getPointer<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>p <span class=\"token operator\">*</span><span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span>JASMIN<span class=\"token operator\">:</span><span class=\"token operator\">:</span>pdat<span class=\"token operator\">:</span><span class=\"token operator\">:</span>CellData<span class=\"token operator\">&lt;</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>double<span class=\"token operator\">></span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>coarse.getPatchData<span class=\"token punctuation\">(</span>manager<span class=\"token operator\">-</span><span class=\"token operator\">></span>sshn_id<span class=\"token punctuation\">))</span></span>-<span class=\"token operator\">></span>getPointer<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>+400<span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "Memo",
                "Coding"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/Earth-Science/Sea-ice/esA0412/",
            "url": "https://ningchenhui.github.io/Earth-Science/Sea-ice/esA0412/",
            "title": "北极 SIE/SIV 计算",
            "date_published": "2021-04-12T02:43:05.000Z",
            "content_html": "<p>Arctic sea ice extent and volume (SIE and SIV)<span id=\"more\"></span></p>\n<h2 id=\"定义\"><a class=\"markdownIt-Anchor\" href=\"#定义\">#</a> 定义</h2>\n<p>Sea ice concentration is the percentage of each pixel that is covered by ice.<br>\n 海冰浓度是每个网格被冰覆盖的百分比。</p>\n<p>Sea ice extent is calculated by adding up the pixels with an ice concentration of at least 15 percent.<br>\n 海冰范围的计算方法是将冰浓度至少为 15% 的网格的海冰面积相加。</p>\n<p>In each grid cell the sea ice volume is calculated as thickness multiplied with concentration and with area, with contributions from all grid cells to the total volume.<br>\n 在每个网格中，海冰体积计算为厚度乘以浓度和面积，所有网格单元累加为总体积。</p>\n<img style=\"display: inline-block; width: 60%; max-width: 60%; height: auto;\" data-src=\"25km_pixels.jpg\"/>\n<p>Satellites measure sea ice concentration on a 25 kilometer by 25 kilometer grid. This image illustrates the area covered by each pixel of the low-resolution microwave instruments superimposed on a higher-resolution, color satellite image. (NASA Earth Observatory image by Joshua Stevens and Robert Simmon, based on <span class=\"exturl\" data-url=\"aHR0cDovL21vZGlzLmdzZmMubmFzYS5nb3Yv\">MODIS</span> data.)</p>\n<p>参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9lYXJ0aG9ic2VydmF0b3J5Lm5hc2EuZ292L2ZlYXR1cmVzL1NlYUljZSM6fjp0ZXh0PVNlYSUyMGljZSUyMGNvbmNlbnRyYXRpb24lMjBpcyUyMHRoZSUyMHBlcmNlbnRhZ2UlMjBvZiUyMGVhY2gsU3RldmVucyUyMGFuZCUyMFJvYmVydCUyMFNpbW1vbiUyQyUyMGJhc2VkJTIwb24lMjBNT0RJUyUyMGRhdGEuJTI5\">NASA, sea ice</span>，<span class=\"exturl\" data-url=\"aHR0cDovL3BvbGFycG9ydGFsLmRrL2VuL3NlYS1pY2UtYW5kLWljZWJlcmdzL3NlYS1pY2UtdGhpY2tuZXNzLWFuZC12b2x1bWUv\">Polar Portal, Sea Ice Thickness and Volume</span></p>\n<h2 id=\"模式数据计算\"><a class=\"markdownIt-Anchor\" href=\"#模式数据计算\">#</a> 模式数据计算</h2>\n<p>在 sea ice model: Community Ice Code (CICE) 的月数据输出中，与 SIE/SIV 有关的有</p>\n<ul>\n<li>hi(m): grid cell mean ice thickness (tarea) # ice volume per unit grid cell area</li>\n<li>aice(%): ice area (aggregate) (tarea)</li>\n<li>hisnap(m): ice volume snapshot (tarea)</li>\n<li>aisnap(): ice area snapshot (tarea)</li>\n</ul>\n<p>还有一些 aicen00x (ice volume, category  1~5)；vicen00x (ice area, category  1~5)，不知道类别对应的物理量是什么，估计与后面的分析有关。</p>\n<p>取北纬 30° 以上的数据，aice 对应海冰浓度，筛去小于 15% 的数据后乘以 T 网格面积累加计算海冰范围；<br>\nhi 为网格平均冰厚，乘以 T 网格面积累加计算海冰体积。</p>\n<p>对每年的 12 月数据取平均计算当年的 SIE/SIV，绘制模型 37 年的输出结果。</p>\n<img style=\"display: inline-block; width: 50%; max-width: 60%; height: auto;\" data-src=\"siev.png\"/>\n<p>对每月的 33 至 37 共 5 模型年的数据取平均，计算 SIE/SIV 的气候季节循环，且体积与 PIOMAS（1979-2002）实际数据进行比较。</p>\n<img style=\"display: inline-block; width: 50%; max-width: 60%; height: auto;\" data-src=\"sea_ice_volume_month.png\"/>\n<img style=\"display: inline-block; width: 50%; max-width: 60%; height: auto;\" data-src=\"sea_ice_extent_month.png\"/>\n<img style=\"display: inline-block; width: 70%; max-width: 70%; height: auto;\" data-src=\"arctic_daily_sea_ice_std_deviation.jpg\"/>\n<p>对应代码：</p>\n<figure class=\"highlight matlab\"><figcaption data-lang=\"MATLAB\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">parfor</span> <span class=\"token number\">i</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span>n</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    FileName<span class=\"token operator\">=</span>fileName<span class=\"token punctuation\">&#123;</span><span class=\"token number\">i</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    start<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>count<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>Inf<span class=\"token punctuation\">,</span>Inf<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>stride<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    iceAreaAve<span class=\"token operator\">=</span><span class=\"token function\">ncread</span><span class=\"token punctuation\">(</span>FileName<span class=\"token punctuation\">,</span><span class=\"token string\">'aice'</span><span class=\"token punctuation\">,</span>start<span class=\"token punctuation\">,</span>count<span class=\"token punctuation\">,</span>stride<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    iceVolumeAve<span class=\"token operator\">=</span><span class=\"token function\">ncread</span><span class=\"token punctuation\">(</span>FileName<span class=\"token punctuation\">,</span><span class=\"token string\">'hi'</span><span class=\"token punctuation\">,</span>start<span class=\"token punctuation\">,</span>count<span class=\"token punctuation\">,</span>stride<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">iceAreaAve</span><span class=\"token punctuation\">(</span>iceAreaAve<span class=\"token operator\">&lt;</span><span class=\"token number\">0.15</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token keyword\">NaN</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function\">iceArea</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token function\">nansum</span><span class=\"token punctuation\">(</span><span class=\"token function\">nansum</span><span class=\"token punctuation\">(</span>iceAreaAve<span class=\"token operator\">.*</span>tarea<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token function\">iceVolume</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token function\">nansum</span><span class=\"token punctuation\">(</span><span class=\"token function\">nansum</span><span class=\"token punctuation\">(</span>iceVolumeAve<span class=\"token operator\">.*</span>tarea<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">end</span></pre></td></tr></table></figure><h2 id=\"空间分布\"><a class=\"markdownIt-Anchor\" href=\"#空间分布\">#</a> 空间分布</h2>\n<p>模式 TS045、TS015 的 9 月和 3 月的海冰厚度场，红线为海冰范围（15% 海冰浓度等值线）。</p>\n<img style=\"display: inline-block; width: 80%; max-width: 80%; height: auto;\" data-src=\"showIceThickness.png\"/>\n",
            "tags": [
                "Coding",
                "Notes"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/Earth-Science/Sea-ice/esA0408/",
            "url": "https://ningchenhui.github.io/Earth-Science/Sea-ice/esA0408/",
            "title": "粗化网格的变形速率计算",
            "date_published": "2021-04-08T10:12:04.000Z",
            "content_html": "<p>Calculate deformation rate of coarse-mesh<span id=\"more\"></span></p>\n<h2 id=\"网格\"><a class=\"markdownIt-Anchor\" href=\"#网格\">#</a> 网格</h2>\n<h3 id=\"b-grid\"><a class=\"markdownIt-Anchor\" href=\"#b-grid\">#</a> B-grid</h3>\n<p>CSIM uses a generalized orthogonal <strong>B-grid</strong>, where tracer quantities are located at the center of the grid cells, and velocities are located at the corners. The internal ice stress tensor takes four different values within a grid cell. Tracer quantities in the ice model include ice and snow area, volume, energy and temperature. The grid comprised of the <strong>center points of the grid cells is referred to as the “T grid”.</strong> <strong>The “U grid” is comprised of the ponts at the northeast corner of the corresponding cell on the T grid.</strong> Quantities that are defined on the U grid include ice and ocean dynamics variables.</p>\n<p>计算应变速率所需要的速度是定义在 U grid 上的，也就是每个 cell 的东北角。论文中网格为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">n_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 行<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">n_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 列，右端是高纬地区。</p>\n<img style=\"display: inline-block; width: 50%; max-width: 50%; height: auto;\" data-src=\"grid.png\" />\n<h3 id=\"旋转\"><a class=\"markdownIt-Anchor\" href=\"#旋转\">#</a> 旋转</h3>\n<p>在截取了高纬地区 <code>nj*5/7 : nj</code>  列后，将下半部分旋转到右端拼接海洋。</p>\n<figure class=\"highlight matlab\"><figcaption data-lang=\"MATLAB\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">% 更新维度为截取北极后</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>nj <span class=\"token operator\">=</span> <span class=\"token function\">size</span><span class=\"token punctuation\">(</span>uVel<span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">% 把下半数据旋转到右边</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>u <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token function\">uVel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token function\">uVel</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>nj<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>v <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token function\">vVel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token function\">vVel</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>nj<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">% 旋转后的网格去掉西边界和南边界</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>lat <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token function\">lat</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>   <span class=\"token function\">lat</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>nj<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>lon <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token function\">lon</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>   <span class=\"token function\">lon</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>nj<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>dx <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token function\">dx</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">dx</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>nj<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>dy <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token function\">dy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">dy</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>nj<span class=\"token operator\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">% 更新维度为旋转后</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>ni <span class=\"token operator\">=</span> <span class=\"token function\">size</span><span class=\"token punctuation\">(</span>dx<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>nj <span class=\"token operator\">=</span> <span class=\"token function\">size</span><span class=\"token punctuation\">(</span>dy<span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>新的网格:</p>\n<img style=\"display: inline-block; width: 80%; max-width: 80%; height: auto;\" data-src=\"new.png\" />\n<h2 id=\"strain-rate-应变速率-deformation-rate-变形速率\"><a class=\"markdownIt-Anchor\" href=\"#strain-rate-应变速率-deformation-rate-变形速率\">#</a> Strain rate 应变速率 /deformation rate 变形速率</h2>\n<p>根据论文中的定义，<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>u</mi><mi>x</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><mo>∮</mo><mi>u</mi><mtext>d</mtext><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">u_x=\\frac{1}{A}\\oint u \\text{d}y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.190108em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;\">∮</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mord text\"><span class=\"mord\">d</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>,<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>u</mi><mi>y</mi></msub><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><mo>∮</mo><mi>u</mi><mtext>d</mtext><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">u_y=-\\frac{1}{A}\\oint u \\text{d}x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.190108em;vertical-align:-0.345em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;\">∮</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mord text\"><span class=\"mord\">d</span></span><span class=\"mord mathnormal\">x</span></span></span></span>,<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>x</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><mo>∮</mo><mi>v</mi><mtext>d</mtext><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">v_x=\\frac{1}{A}\\oint v \\text{d}y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.190108em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;\">∮</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord text\"><span class=\"mord\">d</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>,<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>y</mi></msub><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><mo>∮</mo><mi>v</mi><mtext>d</mtext><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">v_y=-\\frac{1}{A}\\oint v \\text{d}x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.190108em;vertical-align:-0.345em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;\">∮</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord text\"><span class=\"mord\">d</span></span><span class=\"mord mathnormal\">x</span></span></span></span>,</p>\n<p>剪切率 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>ε</mi><mo>˙</mo></mover><mtext>shear</mtext></msub><mo>=</mo><msqrt><mrow><msup><mrow><mo fence=\"true\">(</mo><msub><mi>u</mi><mi>x</mi></msub><mo>−</mo><msub><mi>v</mi><mi>y</mi></msub><mo fence=\"true\">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>u</mi><mi>y</mi></msub><mo>+</mo><msub><mi>v</mi><mi>x</mi></msub><mo fence=\"true\">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\dot{\\varepsilon}_{\\textrm{shear}}=\\sqrt{\\left ( u_{x}-v_{y}\\right )^2+\\left ( u_{y}+v_{x}\\right )^2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.81786em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.66786em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.055550000000000016em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord textrm mtight\">shear</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.84em;vertical-align:-0.52105em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.31895em;\"><span class=\"svg-align\" style=\"top:-3.8em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.27895em;\"><span class=\"pstrut\" style=\"height:3.8em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.8800000000000001em;\"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52105em;\"><span></span></span></span></span></span></span></span></span>,<br>\n 散度率 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>ε</mi><mo>˙</mo></mover><mtext>div</mtext></msub><mo>=</mo><msub><mi>u</mi><mi>x</mi></msub><mo>+</mo><msub><mi>v</mi><mi>y</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\dot{\\varepsilon }_{\\textrm{div}} = u_x+v_y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.81786em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.66786em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.055550000000000016em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord textrm mtight\">div</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>,<br>\n 总应变率 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>ε</mi><mo>˙</mo></mover><mtext>tot</mtext></msub><mo>=</mo><msqrt><mrow><msubsup><mover accent=\"true\"><mi>ε</mi><mo>˙</mo></mover><mtext>shear</mtext><mn>2</mn></msubsup><mo>+</mo><msubsup><mover accent=\"true\"><mi>ε</mi><mo>˙</mo></mover><mtext>div</mtext><mn>2</mn></msubsup></mrow></msqrt></mrow><annotation encoding=\"application/x-tex\">\\dot{\\varepsilon }_{\\textrm{tot}}=\\sqrt{\\dot{\\varepsilon }_{\\textrm{shear}}^{2}+\\dot{\\varepsilon }_{\\textrm{div}}^{2}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.81786em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.66786em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.055550000000000016em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2805559999999999em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord textrm mtight\">tot</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.24em;vertical-align:-0.3077000000000001em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9322999999999999em;\"><span class=\"svg-align\" style=\"top:-3.2em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.66786em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.055550000000000016em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959079999999998em;\"><span style=\"top:-2.398692em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord textrm mtight\">shear</span></span></span></span></span><span style=\"top:-3.0448em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30130799999999996em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.66786em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.055550000000000016em;\"><span class=\"mord\">˙</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7959079999999998em;\"><span style=\"top:-2.398692em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord textrm mtight\">div</span></span></span></span></span><span style=\"top:-3.0448em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30130799999999996em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.8923em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3077000000000001em;\"><span></span></span></span></span></span></span></span></span>。</p>\n<p>在数值计算中，首先线性插值计算网格中点的速率（与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>x</mi><mo separator=\"true\">,</mo><mi>d</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">dx,dy</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> 对应）</p>\n<figure class=\"highlight matlab\"><figcaption data-lang=\"MATLAB\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>uMidy <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">u</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">u</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>nj<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>vMidx <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">v</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">v</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>uMidx <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">u</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">u</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>ni<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>vMidy <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">v</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">v</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>nj<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>当网格粗化 <code>times</code>  倍时（以 3 为例），粗化后的网格单元即为上图中灰色的单元。</p>\n<figure class=\"highlight matlab\"><figcaption data-lang=\"MATLAB\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nx<span class=\"token operator\">=</span><span class=\"token function\">fix</span><span class=\"token punctuation\">(</span>ni<span class=\"token operator\">/</span>times<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">% 粗化后网格个数</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>ny<span class=\"token operator\">=</span><span class=\"token function\">fix</span><span class=\"token punctuation\">(</span>nj<span class=\"token operator\">/</span>times<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ni<span class=\"token operator\">=</span>nx<span class=\"token operator\">*</span>times<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>nj<span class=\"token operator\">=</span>ny<span class=\"token operator\">*</span>times<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>每个大单元的速率偏导的计算公式为</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></msubsup><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mi>d</mi><msub><mi>y</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">A=\\sum_{i,j=1}^{3}dx_{i,j}dy_{i,j},</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.389826em;vertical-align:-0.43581800000000004em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.43581800000000004em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span></span></p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>u</mi><mi>x</mi></msub><mo>≈</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></msubsup><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><msub><mi>u</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>y</mi><mrow><mn>4</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow></msub><mi>d</mi><msub><mi>y</mi><mrow><mn>4</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo fence=\"true\">)</mo></mrow><mo>−</mo><mrow><mo fence=\"true\">(</mo><msub><mi>u</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>y</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow></msub><mi>d</mi><msub><mi>y</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">u_x \\approx \\frac{1}{A} \\sum_{j=1}^{3} \\left ( \\left ( u_{midy_{4,j}} dy_{4,j} \\right ) - \\left ( u_{midy_{1,j}} dy_{1,j} \\right ) \\right ),</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.63312em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.389826em;vertical-align:-0.43581800000000004em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.43581800000000004em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>x</mi></msub><mo>≈</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></msubsup><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><msub><mi>v</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>y</mi><mrow><mn>4</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow></msub><mi>d</mi><msub><mi>y</mi><mrow><mn>4</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo fence=\"true\">)</mo></mrow><mo>−</mo><mrow><mo fence=\"true\">(</mo><msub><mi>v</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>y</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow></msub><mi>d</mi><msub><mi>y</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">v_x \\approx \\frac{1}{A} \\sum_{j=1}^{3} \\left ( \\left ( v_{midy_{4,j}} dy_{4,j} \\right ) - \\left ( v_{midy_{1,j}} dy_{1,j} \\right ) \\right ),</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.63312em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.389826em;vertical-align:-0.43581800000000004em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.43581800000000004em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>y</mi></msub><mo>≈</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></msubsup><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><msub><mi>v</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>4</mn></mrow></msub></mrow></msub><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>4</mn></mrow></msub><mo fence=\"true\">)</mo></mrow><mo>−</mo><mrow><mo fence=\"true\">(</mo><msub><mi>v</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub></mrow></msub><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">v_y \\approx \\frac{1}{A} \\sum_{i=1}^{3} \\left ( \\left ( v_{midx_{i,4}} dx_{i,4} \\right ) - \\left ( v_{midx_{i,1}} dx_{i,1} \\right ) \\right ),</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.769228em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.304018em;vertical-align:-0.35001em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.29971000000000003em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span></span></span></span><br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>u</mi><mi>y</mi></msub><mo>≈</mo><mfrac><mn>1</mn><mi>A</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></msubsup><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><msub><mi>u</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>4</mn></mrow></msub></mrow></msub><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>4</mn></mrow></msub><mo fence=\"true\">)</mo></mrow><mo>−</mo><mrow><mo fence=\"true\">(</mo><msub><mi>u</mi><mrow><mi>m</mi><mi>i</mi><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub></mrow></msub><mi>d</mi><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">u_y \\approx \\frac{1}{A} \\sum_{i=1}^{3} \\left ( \\left ( u_{midx_{i,4}} dx_{i,4} \\right ) - \\left ( u_{midx_{i,1}} dx_{i,1} \\right ) \\right ),</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.769228em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.304018em;vertical-align:-0.35001em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.954008em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.29971000000000003em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">4</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\">u</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2818857142857143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.34731999999999996em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span></span></span></span></p>\n<p>对应代码：</p>\n<figure class=\"highlight matlab\"><figcaption data-lang=\"MATLAB\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">% 计算每个大网格第 1：times 的相应数值</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token number\">i</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">dxs</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token function\">dx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">dxn</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">dx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">dye</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token function\">dy</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">dyw</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token function\">dy</span><span class=\"token punctuation\">(</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function\">ue</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">uMidy</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token function\">uw</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">uMidy</span><span class=\"token punctuation\">(</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token function\">ve</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">vMidy</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token function\">vw</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">vMidy</span><span class=\"token punctuation\">(</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token function\">vn</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">vMidx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token function\">vs</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">vMidx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token function\">un</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">uMidx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">+</span>times<span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token function\">us</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">,</span><span class=\"token operator\">:</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">uMidx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">end</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">% 累加小网格的近似面积作为大网格的面积，经纬坐标取平均</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token number\">i</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token number\">j</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        area<span class=\"token operator\">=</span>area<span class=\"token operator\">+</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token function\">dx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">j</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">dx</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">j</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.*</span><span class=\"token punctuation\">...</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token function\">dy</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">j</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">dy</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">j</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        latMid<span class=\"token operator\">=</span>latMid<span class=\"token operator\">+</span><span class=\"token function\">lat</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">j</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        lonMid<span class=\"token operator\">=</span>lonMid<span class=\"token operator\">+</span><span class=\"token function\">lon</span><span class=\"token punctuation\">(</span><span class=\"token number\">i</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>ni<span class=\"token punctuation\">,</span><span class=\"token number\">j</span><span class=\"token operator\">:</span>times<span class=\"token operator\">:</span>nj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">end</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">end</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>latMid<span class=\"token operator\">=</span>latMid<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span>times<span class=\"token operator\">^</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>lonMid<span class=\"token operator\">=</span>lonMid<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span>times<span class=\"token operator\">^</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>ux <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> ue <span class=\"token operator\">.*</span> dye <span class=\"token operator\">-</span> uw <span class=\"token operator\">.*</span> dyw <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>vy <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> vn <span class=\"token operator\">.*</span> dxn <span class=\"token operator\">-</span> vs <span class=\"token operator\">.*</span> dxs <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>uy <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> un <span class=\"token operator\">.*</span> dxn <span class=\"token operator\">-</span> us <span class=\"token operator\">.*</span> dxs <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>vx <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span> ve <span class=\"token operator\">.*</span> dye <span class=\"token operator\">-</span> vw <span class=\"token operator\">.*</span> dyw <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>ux<span class=\"token operator\">=</span><span class=\"token function\">squeeze</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>ux<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">./</span> area<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>vy<span class=\"token operator\">=</span><span class=\"token function\">squeeze</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>vy<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">./</span> area<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>uy<span class=\"token operator\">=</span><span class=\"token function\">squeeze</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>uy<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">./</span> area<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>vx<span class=\"token operator\">=</span><span class=\"token function\">squeeze</span><span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>vx<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">./</span> area<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>因此最后变形率的计算为：</p>\n<figure class=\"highlight matlab\"><figcaption data-lang=\"MATLAB\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>div <span class=\"token operator\">=</span> ux <span class=\"token operator\">+</span> vy<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">%shr = abs(ux-vy);</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>shr <span class=\"token operator\">=</span> <span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>ux<span class=\"token operator\">-</span>vy<span class=\"token punctuation\">)</span><span class=\"token operator\">.^</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>uy<span class=\"token operator\">+</span>vx<span class=\"token punctuation\">)</span><span class=\"token operator\">.^</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>tot <span class=\"token operator\">=</span> <span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>shr<span class=\"token operator\">.^</span><span class=\"token number\">2</span><span class=\"token operator\">+</span>div<span class=\"token operator\">.^</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "Coding"
            ]
        }
    ]
}