{
    "version": "https://jsonfeed.org/version/1",
    "title": "欢迎 • All posts by \"linux\" tag",
    "description": "DESS, THU",
    "home_page_url": "https://ningchenhui.github.io",
    "items": [
        {
            "id": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1206/",
            "url": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1206/",
            "title": "高性能计算#04 HPL测试GPU",
            "date_published": "2020-12-06T08:44:18.000Z",
            "content_html": "<p>- HPL 测试 MKL+MPICH - <span id=\"more\"></span></p>\n<h2 id=\"环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#环境搭建\">#</a> 环境搭建</h2>\n<ol>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpdV9mZW5nX3ppXy9hcnRpY2xlL2RldGFpbHMvMTA3MjMyMjUy\">GPU 驱动</span></p>\n</li>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpdV9mZW5nX3ppXy9hcnRpY2xlL2RldGFpbHMvMTA3MjM0Mjcx\">CUDA</span></p>\n</li>\n<li>\n<p>编译器：系统自带的 GNU 编译器</p>\n</li>\n</ol>\n<p><em>可惜集群上的 CUDA 是 9.0 的，不支持 MPI-3.0，想着下一个 Intel mpi，结果这个不能单独下，要下一个 OneAPI，压缩包和 CUDA 11.0 一样超大。</em></p>\n<h3 id=\"mpich2\"><a class=\"markdownIt-Anchor\" href=\"#mpich2\">#</a> MPICH2</h3>\n<ol>\n<li>官方下载：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5tcGljaC5vcmcvc3RhdGljL2Rvd25sb2Fkcy8zLjIuMS9tcGljaC0zLjIuMS50YXIuZ3o=\">mpich-3.2.1.tar.gz</span>，可以用 <code>wget</code> 。</li>\n<li>解压，新建文件夹 <code>mpich</code>  作为安装文件夹</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> mpich-3.2.1/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./configure --prefix<span class=\"token operator\">=</span>/home/riolu/HPL/mpich <span class=\"token assign-left variable\">CFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-fPIC\"</span> <span class=\"token assign-left variable\">CXXFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-fPIC\"</span> --enable-shared --enable-sharedlibs<span class=\"token operator\">=</span>gcc --with-cuda<span class=\"token operator\">=</span>/usr/local/cuda-10.0/ --with-cuda-include<span class=\"token operator\">=</span>/usr/local/cuda-10.0/include --with-cuda-libpath<span class=\"token operator\">=</span>/usr/local/cuda-10.0/lib64</pre></td></tr></table></figure><p>如果不加这些参数会报错：</p>\n<pre><code>libmpich.a(allreduce.o): relocation R_X86_64_32 against `.rodata.str1.8' can not be used when making a shared object; recompile with -fPIC\n</code></pre>\n<ol start=\"3\">\n<li>接下来</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> clean</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token function\">install</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>gedit ~/.bashrc</pre></td></tr></table></figure><p>在后面加上</p>\n<pre><code>export PATH=/home/riolu/HPL/mpich/bin:$PATH\nexport MANPATH=/home/riolu/HPL/mpich/man:$MANPATH\nexport LD_LIBRARY_PATH=/home/riolu/HPL/mpich/lib:$LD_LIBRARY_PATH //不知要不要\n</code></pre>\n<p>保存后</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">source</span> ~/.bashrc</pre></td></tr></table></figure><h3 id=\"intel-mkl\"><a class=\"markdownIt-Anchor\" href=\"#intel-mkl\">#</a> Intel MKL</h3>\n<ol>\n<li>下载单独安装包：<span class=\"exturl\" data-url=\"aHR0cDovL3JlZ2lzdHJhdGlvbmNlbnRlci1kb3dubG9hZC5pbnRlbC5jb20vYWtkbG0vaXJjX25hcy90ZWMvMTU4MTYvbF9ta2xfMjAxOS41LjI4MS50Z3o=\">l_mkl_2019.5.281.tgz</span></li>\n<li>解压后进入，执行 <code>sh install.sh</code> ，按提示进行。</li>\n<li>配置 <code>.bashrc</code> ，添加</li>\n</ol>\n<pre><code># added for intel\nexport LD_LIBRARY_PATH=/home/riolu/intel/mkl/lib/intel64:$LD_LIBRARY_PATH\n</code></pre>\n<p>执行 <code>source ~/.bashrc</code> 。<br>\n如果报错找不到共享库的话可能是因为没有加这个路径。</p>\n<h2 id=\"hpl\"><a class=\"markdownIt-Anchor\" href=\"#hpl\">#</a> HPL</h2>\n<ol>\n<li>官方下载网站下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubnZpZGlhLmNvbS9jb21wdXRld29ya3MtZGV2ZWxvcGVyLWV4Y2x1c2l2ZS1kb3dubG9hZHM=\">hpl-2.0_FERMI_v15.tgz</span><br>\n 需要注册一下。</li>\n<li>进入解压后的文件夹，修改 Make.CUDA 的参数</li>\n</ol>\n<pre><code>TOPdir = $(HOME)/HPL/hpl-2.0_FERMI_v15 #hpl所在的路径目录\n..............................................................\nMPdir  = $(HOME)/HPL/mpich\nMPinc = -I$(MPdir)/include          \nMPlib = -L$(MPdir)/lib\n..............................................................    \nLAdir   =$(HOME)/intel/mkl/lib/intel64\nLAMP5dir    = $(HOME)/intel/compilers_and_libraries/linux/lib/intel64\nLAinc        = -I$(HOME)/intel/mkl/include\nLAlib        = -L $(TOPdir)/src/cuda  -ldgemm -L/usr/local/cuda-10.0/lib64 -lcuda -lcudart -lcublas -L$(LAdir) -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -liomp5\n\nHPL_INCLUDES = -I$(INCdir) -I$(INCdir)/$(ARCH) $(LAinc) $(MPinc) -I/usr/local/cuda-10.0/include\n..............................................................\nCC   =$(MPdir)/bin/mpicc\n\n..............................................................\n</code></pre>\n<ol start=\"3\">\n<li>修改 <code>src/cuda/Makefile</code>  为里的 <code>cuda</code>  路径为 <code>cuda-10.0</code></li>\n<li>编译</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token assign-left variable\">arch</span><span class=\"token operator\">=</span>CUDA clean_arch_all</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token assign-left variable\">arch</span><span class=\"token operator\">=</span>CUDA</pre></td></tr></table></figure><p>若报错 <code>/usr/bin/ld: 找不到 -liomp5</code>  则可以做一个软链接，执行</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ln</span> -s /home/intel/lib/intel64/libiomp5.so /home/intel/mkl/lib/intel64/libiomp5.so</pre></td></tr></table></figure><ol start=\"5\">\n<li><code>/bin/CUDA</code>  目录下生成两个文件：HPL.dat 和 xhpl。在该目录新建一个 <code>test.sh</code>  文件，内容为</li>\n</ol>\n<pre><code>export HPL_DIR=/home/riolu/HPL/hpl-2.0_FERMI_v15\nexport MKL_NUM_THREADS=6\nexport OMP_NUM_THREADS=2\nexport MKL_DYNAMIC=FALSE\nexport CUDA_DGEMM_SPLIT=0.954\nexport CUDA_DTRSM_SPLIT=0.946\nexport LD_LIBRARY_PATH=$HPL_DIR/src/cuda:$LD_LIBRARY_PATH\n$HPL_DIR/bin/CUDA/xhpl\n</code></pre>\n<p>其中</p>\n<ul>\n<li>MKL_NUM_THREADS：每个进程使用的 CPU 核的数量</li>\n<li>OMP_NUM_THREADS：每个 GPU 使用的 CPU 核的数量<br>\n例如：2 个 GPU 和 8 个 CPU，则 OMP_NUM_THREADS=4</li>\n<li>CUDA_DGEMM_SPLIT：发送给 GPU 的 DGEMM 占总的百分比，大致等于 (GPU GFLOPS)/(GPU GFLOPS + CPU GFLOPS)，或者 350  / ( 350 + 每个 GPU 的 CPU 数量 * 4 * CPU 基本频率 )</li>\n<li>CUDA_DTRSM_SPLIT：发送给 GPU 的 DTRSM 占总的百分比，通常比 DGEMM 低 0.05-0.10</li>\n<li>HPL_DIR：文件的路径</li>\n</ul>\n<ol start=\"6\">\n<li>单节点执行： <code>./run_linpack.sh</code> <br>\n 多节点执行（没有测试过，仅供参考）： <code>mpiexec.hydra -np 7 ./test.sh</code></li>\n</ol>\n<h2 id=\"初步结果\"><a class=\"markdownIt-Anchor\" href=\"#初步结果\">#</a> 初步结果</h2>\n<pre><code>\t================================================================================\n\tHPLinpack 2.0  --  High-Performance Linpack benchmark  --   September 10, 2008\n\tWritten by A. Petitet and R. Clint Whaley,  Innovative Computing Laboratory, UTK\n\tModified by Piotr Luszczek, Innovative Computing Laboratory, UTK\n\tModified by Julien Langou, University of Colorado Denver\n\t================================================================================\n\n\tAn explanation of the input/output parameters follows:\n\tT/V    : Wall time / encoded variant.\n\tN      : The order of the coefficient matrix A.\n\tNB     : The partitioning blocking factor.\n\tP      : The number of process rows.\n\tQ      : The number of process columns.\n\tTime   : Time in seconds to solve the linear system.\n\tGflops : Rate of execution for solving the linear system.\n\n\tThe following parameter values will be used:\n\n\tN      :   25000\n\tNB     :     768\n\tPMAP   : Row-major process mapping\n\tP      :       1\n\tQ      :       1\n\tPFACT  :    Left\n\tNBMIN  :       2\n\tNDIV   :       2\n\tRFACT  :    Left\n\tBCAST  :   1ring\n\tDEPTH  :       1\n\tSWAP   : Spread-roll (long)\n\tL1     : no-transposed form\n\tU      : no-transposed form\n\tEQUIL  : yes\n\tALIGN  : 8 double precision words\n\n\t--------------------------------------------------------------------------------\n\n\t- The matrix A is randomly generated for each test.\n\t- The following scaled residual check will be computed:\n\t\t  ||Ax-b||_oo / ( eps * ( || x ||_oo * || A ||_oo + || b ||_oo ) * N )\n\t- The relative machine precision (eps) is taken to be               1.110223e-16\n\t- Computational tests pass if scaled residuals are less than                16.0\n\n\t================================================================================\n\tT/V                N    NB     P     Q               Time                 Gflops\n\t--------------------------------------------------------------------------------\n\tWR10L2L2       25000   768     1     1              10.58              9.843e+02\n\t--------------------------------------------------------------------------------\n\t||Ax-b||_oo/(eps*(||A||_oo*||x||_oo+||b||_oo)*N)=        0.0044272 ...... PASSED\n\t================================================================================\n\n\tFinished      1 tests with the following results:\n\t\t\t\t  1 tests completed and passed residual checks,\n\t\t\t\t  0 tests completed and failed residual checks,\n\t\t\t\t  0 tests skipped because of illegal input values.\n\t--------------------------------------------------------------------------------\n\n\tEnd of Tests.\n\t================================================================================\n</code></pre>\n<p>速度是 CPU 的 3 倍……</p>\n<h3 id=\"gpu信息获取\"><a class=\"markdownIt-Anchor\" href=\"#gpu信息获取\">#</a> GPU 信息获取</h3>\n<ol>\n<li>查看 nvidia GPU 型号<br>\n <code>lspci | grep -i nvidia</code></li>\n<li>查看 Nvidia 显卡信息及使用情况<br>\n <code>nvidia-smi</code></li>\n</ol>\n<pre><code>Wed Dec  9 02:23:00 2020\n\t\t+-----------------------------------------------------------------------------+\n\t\t| NVIDIA-SMI 410.129      Driver Version: 410.129      CUDA Version: 10.0     |\n\t\t|-------------------------------+----------------------+----------------------+\n\t\t| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n\t\t| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n\t\t|===============================+======================+======================|\n\t\t|   0  Tesla P100-PCIE...  Off  | 00000000:05:00.0 Off |                    0 |\n\t\t| N/A   34C    P0    36W / 250W |   2391MiB / 16280MiB |      0%      Default |\n\t\t+-------------------------------+----------------------+----------------------+\n\t\t|   1  Tesla P100-PCIE...  Off  | 00000000:08:00.0 Off |                    0 |\n\t\t| N/A   40C    P0    40W / 250W |   2391MiB / 16280MiB |      0%      Default |\n\t\t+-------------------------------+----------------------+----------------------+\n\t\t|   2  Tesla P100-PCIE...  Off  | 00000000:09:00.0 Off |                    0 |\n\t\t| N/A   46C    P0   194W / 250W |   2391MiB / 16280MiB |    100%      Default |\n\t\t+-------------------------------+----------------------+----------------------+\n\t\t|   3  Tesla P100-PCIE...  Off  | 00000000:84:00.0 Off |                    0 |\n\t\t| N/A   40C    P0    39W / 250W |   2391MiB / 16280MiB |      0%      Default |\n\t\t+-------------------------------+----------------------+----------------------+\n\t\t|   4  Tesla P100-PCIE...  Off  | 00000000:88:00.0 Off |                    0 |\n\t\t| N/A   36C    P0    36W / 250W |   2391MiB / 16280MiB |    100%      Default |\n\t\t+-------------------------------+----------------------+----------------------+\n\t\t|   5  Tesla P100-PCIE...  Off  | 00000000:89:00.0 Off |                    0 |\n\t\t| N/A   42C    P0   185W / 250W |   2391MiB / 16280MiB |    100%      Default |\n\t\t+-------------------------------+----------------------+----------------------+\n\n\t\t+-----------------------------------------------------------------------------+\n\t\t| Processes:                                                       GPU Memory |\n\t\t|  GPU       PID   Type   Process name                             Usage      |\n\t\t|=============================================================================|\n\t\t|    0      3451      C   ...wei/HPL/hpl-2.0_FERMI_v15/bin/CUDA/xhpl  2363MiB |\n\t\t|    1      3455      C   ...wei/HPL/hpl-2.0_FERMI_v15/bin/CUDA/xhpl  2363MiB |\n\t\t|    2      3452      C   ...wei/HPL/hpl-2.0_FERMI_v15/bin/CUDA/xhpl  2363MiB |\n\t\t|    3      3456      C   ...wei/HPL/hpl-2.0_FERMI_v15/bin/CUDA/xhpl  2363MiB |\n\t\t|    4      3453      C   ...wei/HPL/hpl-2.0_FERMI_v15/bin/CUDA/xhpl  2363MiB |\n\t\t|    5      3457      C   ...wei/HPL/hpl-2.0_FERMI_v15/bin/CUDA/xhpl  2363MiB |\n\t\t+-----------------------------------------------------------------------------+\n</code></pre>\n<p>表头释义：<br>\n+ Fan：显示风扇转速，数值在 0 到 100% 之间，是计算机的期望转速，如果不是通过风扇冷却或者风扇坏了，显示出来就是 N/A；<br>\n+ Temp：显卡内部的温度，单位是摄氏度；<br>\n+ Perf：表征性能状态，从 P0 到 P12，P0 表示最大性能，P12 表示状态最小性能；<br>\n+ Pwr：能耗表示；<br>\n+ Bus-Id：涉及 GPU 总线的相关信息；<br>\n+ Disp.A：是 Display Active 的意思，表示 GPU 的显示是否初始化；<br>\n+ Memory Usage：显存的使用率；<br>\n+ Volatile GPU-Util：浮动的 GPU 利用率；<br>\n+ Compute M：计算模式；<br>\n+ Processes 显示每块 GPU 上每个进程所使用的显存情况。<br>\n3. 周期性输出显卡的使用情况<br>\n <code>watch -n 10 nvidia-smi</code> <br>\n 命令行参数 - n 后边跟的是执行命令的周期，以 s 为单位。<br>\n3. 查看 GPU 名称<br>\n <code>nvidia-smi -L</code></p>\n<pre><code>GPU 0: Tesla P100-PCIE-16GB (UUID: GPU-1f613914-b422-06ad-cd7d-d2649435f480)\nGPU 1: Tesla P100-PCIE-16GB (UUID: GPU-d8f026e7-9714-39f6-af4a-f8328cbdb3c9)\nGPU 2: Tesla P100-PCIE-16GB (UUID: GPU-fb22db8b-9de3-691e-53da-d34aec4b6abb)\nGPU 3: Tesla P100-PCIE-16GB (UUID: GPU-ddf0cbc8-3c92-0b3d-5496-b65361fe18a0)\nGPU 4: Tesla P100-PCIE-16GB (UUID: GPU-7a94ce44-3e66-d05d-3d58-d625930a2aad)\nGPU 5: Tesla P100-PCIE-16GB (UUID: GPU-16423caf-0037-6742-2977-ba03f4937b9b)\n</code></pre>\n",
            "tags": [
                "Linux"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1205/",
            "url": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1205/",
            "title": "高性能计算#03 HPCG搭建",
            "date_published": "2020-12-05T08:13:18.000Z",
            "content_html": "<p>- HPCG 测试 OPENBLAS+OPENMPI - <span id=\"more\"></span></p>\n<h2 id=\"环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#环境搭建\">#</a> 环境搭建</h2>\n<p>前几篇中已经配置好了 c++ 编译器，以及 openmpi 并行环境。</p>\n<p>#TODO 若是在 Intel 处理器上建议用 Intel 自家的编译器、mpi、hpcg 执行文件……</p>\n<h2 id=\"hpcg安装与编译\"><a class=\"markdownIt-Anchor\" href=\"#hpcg安装与编译\">#</a> HPCG 安装与编译</h2>\n<ol>\n<li>官方下载网站下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hwY2ctYmVuY2htYXJrL2hwY2c=\">hpcg-master</span></li>\n<li>进入 <code>setup</code>  文件夹下，修改 <code>Make.Linux_MPI</code> ，另存为 <code>Make.Linux</code> 。</li>\n</ol>\n<pre><code>MPdir        = $(HOME)/HPL/openmpi\nMPinc        = -I$(MPdir)/include\nMPlib        = -L$(MPdir)/lib\n\nCXX          = $(MPdir)/bin/mpicxx\n</code></pre>\n<ol start=\"3\">\n<li>设置安装环境：到安装目录下， <code>mkdir hpcg</code> ,  <code>cd hpcg</code> ,  <code>~/HPL/hpcg-master/configure Linux</code></li>\n<li>安装测试： <code>make</code> ， <code>cd bin</code> ， <code>mpirun -np 16 ./xhpcg</code> 。<br>\n <code>hpcg.dat</code>  很简单，第三行是执行的问题的规模，第四行是执行的时间（秒）。<br>\nHPCG 测试很快（整机仅需几分钟），测试时需要不断调节 n 值，以获得一个较好的测试结果。<br>\nn 值不能设置太小，否则测试完全在缓存中进行，测试需要保证内存占用 &gt; 25%。<br>\n官方规定运行时间必须要 1800s 才能得到一个正式的结果。但 t 较小时得到的结果相差不大。</li>\n<li>测试结束后在 bin 文件夹中得到一个 HPCG-Benchmark 文件，这个文件详细记录了运行结果，运行的问题规模占用内存的量，以及各个主要的函数所占运行时间。</li>\n</ol>\n<pre><code>Ns = 256 256 128\nt = 1800\n\nBenchmark Time Summary::Total=1890.2\nFinal Summary=\nFinal Summary::HPCG result is VALID with a GFLOP/s rating of=8.03429\nFinal Summary::HPCG 2.4 rating for historical reasons is=8.61255\nFinal Summary::Reference version of ComputeDotProduct used=Performance results are most likely suboptimal\nFinal Summary::Reference version of ComputeSPMV used=Performance results are most likely suboptimal\nFinal Summary::Reference version of ComputeMG used=Performance results are most likely suboptimal\nFinal Summary::Reference version of ComputeWAXPBY used=Performance results are most likely suboptimal\nFinal Summary::Please upload results from the YAML file contents to=http://hpcg-benchmark.org\n\n-----\n\nNs = 256 256 128\nt = 60\n\nBenchmark Time Summary::Total=144.725\nFinal Summary=\nFinal Summary::HPCG result is VALID with a GFLOP/s rating of=8.01359\nFinal Summary::HPCG 2.4 rating for historical reasons is=8.65271\nFinal Summary::Reference version of ComputeDotProduct used=Performance results are most likely suboptimal\nFinal Summary::Reference version of ComputeSPMV used=Performance results are most likely suboptimal\nFinal Summary::Reference version of ComputeMG used=Performance results are most likely suboptimal\nFinal Summary::Reference version of ComputeWAXPBY used=Performance results are most likely suboptimal\nFinal Summary::Results are valid but execution time (sec) is=144.725\nFinal Summary::Official results execution time (sec) must be at least=1800\n</code></pre>\n<h2 id=\"系统信息获取\"><a class=\"markdownIt-Anchor\" href=\"#系统信息获取\">#</a> 系统信息获取</h2>\n<h3 id=\"cpu\"><a class=\"markdownIt-Anchor\" href=\"#cpu\">#</a> CPU</h3>\n<ol>\n<li>逻辑 CPU 个数与 CPU 型号<br>\n <code>cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c</code> <br>\n32  Intel® Xeon® CPU E5-2620 v4 @ 2.10GHz<br>\n 网上查到 TDP 为 85W，睿频 3.0 GHz。</li>\n<li>物理 CPU 个数<br>\n <code>grep &quot;physical id&quot; /proc/cpuinfo|sort -u</code> <br>\nphysical id     : 0<br>\nphysical id     : 1</li>\n<li>每个物理 CPU 内核个数<br>\n <code>grep &quot;cpu cores&quot; /proc/cpuinfo|uniq</code> <br>\ncpu cores       : 8</li>\n<li>每个物理 CPU 上逻辑 CPU 个数<br>\n <code>grep &quot;siblings&quot; /proc/cpuinfo|uniq</code> <br>\nsiblings        : 16<br>\n 逻辑 CPU 个数是物理个数的两倍，说明开启了超线程。</li>\n<li>每个逻辑 CPU 对应的物理位置<br>\n <code>cat /proc/cpuinfo | grep -E &quot;physical id|processor&quot;</code></li>\n</ol>\n<h3 id=\"linux\"><a class=\"markdownIt-Anchor\" href=\"#linux\">#</a> Linux</h3>\n<ol>\n<li>操作系统信息<br>\n <code>uname -a</code> <br>\nLinux amax 4.2.0-42-generic #49~14.04.1-Ubuntu SMP Wed Jun 29 20:22:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux</li>\n<li>操作系统发行版信息<br>\n <code>cat /etc/issue</code> <br>\nUbuntu 14.04.6 LTS</li>\n<li>内存<br>\n <code>cat /proc/meminfo</code> <br>\n 或<br>\n <code>free -h</code> <br>\n 集群共有 251.8G 内存，猜测是 64G×4。</li>\n<li>内存设备<br>\n <code>dmidecode |grep -A16 &quot;Memory Device$&quot;</code> <br>\n 或<br>\n <code>dmidecode -t memory</code> <br>\n 无权限……</li>\n<li>硬盘空间<br>\n <code>df -hl</code></li>\n</ol>\n<pre><code>Filesystem      Size  Used Avail Use% Mounted on\nudev            126G   12K  126G   1% /dev\ntmpfs            26G  2.1M   26G   1% /run\n/dev/sda6       188G   37G  142G  21% /\nnone            4.0K     0  4.0K   0% /sys/fs/cgroup\nnone            5.0M     0  5.0M   0% /run/lock\nnone            126G  1.3M  126G   1% /run/shm\nnone            100M  188K  100M   1% /run/user\n/dev/sda1       453M   73M  353M  17% /boot\n/dev/sda7       274G  258G  1.8G 100% /home\n/dev/sdc1       1.8T  167G  1.6T  10% /data1\n/dev/sdb1       1.8T   33G  1.7T   2% /data0\n</code></pre>\n<ol start=\"5\">\n<li>硬盘设备<br>\n <code>fdisk -l</code> <br>\n 无信息？需要管理员？</li>\n<li>网卡信息<br>\n <code>dmesg | grep -i eth</code></li>\n<li>设备接口信息<br>\n <code>lspci</code> <br>\n <code>-v</code>     ：显示更多的 PCI 接口装置的详细信息<br>\n <code>-vv</code>     ：比 -v 还要更详细的信息<br>\n <code>-n</code>      ：直接观察 PCI 的 ID 而不是厂商名称<br>\n <code>-s 00:01.0</code>  ：查看地址 00:01.0 的信息</li>\n<li>查看节点 / 主机名称<br>\n <code>cat /etc/hosts</code></li>\n</ol>\n<pre><code>127.0.0.1       localhost\n127.0.1.1       amax\n\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n</code></pre>\n<p>经测试集群应该是在 amax 节点下布置了两块 Intel Xeon CPU，localhost 指向 amax。<br>\n即单节点双路 8 核？</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>@amax:~/HPL<span class=\"token variable\">$mpirun</span> -np <span class=\"token number\">16</span> ./cpi</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Process <span class=\"token number\">5</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Process <span class=\"token number\">7</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Process <span class=\"token number\">8</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Process <span class=\"token number\">9</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Process <span class=\"token number\">10</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Process <span class=\"token number\">12</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Process <span class=\"token number\">14</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Process <span class=\"token number\">0</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Process <span class=\"token number\">1</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Process <span class=\"token number\">2</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Process <span class=\"token number\">3</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Process <span class=\"token number\">4</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Process <span class=\"token number\">11</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Process <span class=\"token number\">13</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Process <span class=\"token number\">15</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>Process <span class=\"token number\">6</span> of <span class=\"token number\">16</span> is on amax</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>pi is approximately <span class=\"token number\">3.1415926544231274</span>, Error is <span class=\"token number\">0.0000000008333343</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>wall clock <span class=\"token function\">time</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.004565</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>@amax:~/HPL$ mpirun -np <span class=\"token number\">16</span> -nolocal ./cpi</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>--------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>All nodes <span class=\"token function\">which</span> are allocated <span class=\"token keyword\">for</span> this job are already filled.</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>--------------------------------------------------------------------------</pre></td></tr></table></figure><ol start=\"8\">\n<li>查看当前进程<br>\n <code>top</code></li>\n</ol>\n<pre><code>top - 15:32:47 up 148 days,  5:36,  6 users,  load average: 107.26, 100.88, 63.62\nTasks: 933 total,  17 running, 916 sleeping,   0 stopped,   0 zombie\n%Cpu(s): 81.9 us, 13.4 sy,  0.0 ni,  4.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem:  26404217+total, 17041590+used, 93626272 free,  3731332 buffers\nKiB Swap:  7999484 total,  1274312 used,  6725172 free. 88929968 cached Mem\n\n        PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                               P\n        5173 riolu     20   0 5448340 2.788g   8492 R 429.5  1.1  24:00.06 xhpl                                                 30 1\n        5033 riolu     20   0 5450740 2.788g   8404 R 428.5  1.1  23:58.68 xhpl                                                 13 1\n</code></pre>\n<p><code>1</code> ： 查看各逻辑 cpu 情况。<br>\n <code>F</code> - <code>方向键选择P=Last Used Cpu</code> - <code>空格</code> ：显示进程在哪个 CPU 上运行。<br>\n <code>q</code> ： 退出。<br>\n参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbWVuZ2NodW5jaGVuL3AvOTY2OTcwNC5odG1s\">Linux 查看 CPU 和内存使用情况</span></p>\n",
            "tags": [
                "Linux"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1204/",
            "url": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1204/",
            "title": "高性能计算#02 HPL再次搭建",
            "date_published": "2020-12-04T10:57:06.000Z",
            "content_html": "<p>- Linpack 测试 OPENBLAS+OPENMPI+HPL -<span id=\"more\"></span></p>\n<h2 id=\"环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#环境搭建\">#</a> 环境搭建</h2>\n<h3 id=\"安装openblas\"><a class=\"markdownIt-Anchor\" href=\"#安装openblas\">#</a> 安装 OpenBLAS</h3>\n<ol>\n<li>官方下载<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3BlbmJsYXMubmV0Lw==\"> OpenBLAS-0.3.10.tar.gz</span></li>\n<li>解压后，在解压目录中执行 <code>make</code> ，</li>\n</ol>\n<pre><code>OpenBLAS build complete. (BLAS CBLAS LAPACK LAPACKE)\n\nOS               ... Linux\nArchitecture     ... x86_64\nBINARY           ... 64bit\nC compiler       ... GCC  (cmd &amp; version : cc (Ubuntu 4.8.4-2ubuntu1~14.04.4) 4.8.4)\nFortran compiler ... GFORTRAN  (cmd &amp; version : GNU Fortran (Ubuntu 4.8.4-2ubuntu1~14.04.4) 4.8.4)\nLibrary Name     ... libopenblas_haswellp-r0.3.10.a (Multi-threading; Max num-threads is 32)\n\nTo install the library, you can run &quot;make PREFIX=/path/to/your/installation install&quot;.\n</code></pre>\n<ol start=\"3\">\n<li>执行 <code>make PREFIX=/home/riolu/HPL/openblas install</code></li>\n</ol>\n<h3 id=\"安装openmpi\"><a class=\"markdownIt-Anchor\" href=\"#安装openmpi\">#</a> 安装 openMPI</h3>\n<ol>\n<li>官方下载<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3Blbi1tcGkub3JnL3NvZnR3YXJlL29tcGkvdjQuMC8=\"> openmpi-4.0.5.tar.gz</span></li>\n<li>解压后，在解压目录中执行 <code>./configure --prefix=/home/riolu/HPL/openmpi</code></li>\n</ol>\n<pre><code>Resource Managers\n-----------------------\nCray Alps: no\nGrid Engine: no\nLSF: no\nMoab: no\nSlurm: yes\nssh/rsh: yes\nTorque: no\n\nOMPIO File Systems\n-----------------------\nGeneric Unix FS: yes\nLustre: no\nPVFS2/OrangeFS: no\n</code></pre>\n<ol start=\"3\">\n<li><code>make</code> ,  <code>make install</code></li>\n<li>修改 <code>~/.bashrc</code> ，在后面加上</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/home/riolu/HPL/openmpi/bin:<span class=\"token environment constant\">$PATH</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">INCLUDE</span><span class=\"token operator\">=</span>/home/riolu/HPL/openmpi/include:<span class=\"token variable\">$INCLUDE</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span>/home/riolu/HPL/openmpi/lib:<span class=\"token variable\">$LD_LIBRARY_PATH</span></pre></td></tr></table></figure><p>保存后  <code>source ~/.bashrc</code> <br>\n（libreOffice 保存会改编码，还是在 Windows 上改完传过去或者在 jupyter 上改</p>\n<h2 id=\"hpl安装与编译\"><a class=\"markdownIt-Anchor\" href=\"#hpl安装与编译\">#</a> HPL 安装与编译</h2>\n<ol>\n<li>官方下载网站下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubmV0bGliLm9yZy9iZW5jaG1hcmsvaHBs\">hpl.tar.gz</span></li>\n<li>进入安装文件夹下的 setup，在 setup 中中找到 <code>Make.Linux_PII_CBLAS</code> ，将其放置到上层目录并且命名为 <code>Make.Linux</code></li>\n<li>修改 <code>Make.Linux</code></li>\n</ol>\n<pre><code>ARCH         = Linux\nTOPdir       = $(HOME)/HPL/hpl-2.3 /*改为hpl解压后产生文件夹*/\nMPdir        = $(HOME)/HPL/openmpi /*改为mpich安装文件夹*/\nMPinc        = -I$(MPdir)/include\nMPlib        = -L$(MPdir)/lib\nLAdir        = $(HOME)/HPL/openblas\nLAinc        = -I$(LAdir)/include\nLAlib        = $(LAdir)/lib/libopenblas_haswellp-r0.3.10.a\nHPL_OPTS     = -DHPL_CALL_CBLAS\nCC           = $(MPdir)/bin/mpicc\nCCFLAGS      = $(HPL_DEFS) -fomit-frame-pointer -fopenmp -O3 -funroll-loops\nLINKER       = $(MPdir)/bin/mpif77\nLINKFLAGS = $(CCFLAGS)\n</code></pre>\n<p>执行  <code>make arch=Linux</code></p>\n<ol start=\"4\">\n<li>此时查看安装文件夹下 bin，会看到有 <code>Linux</code>  文件夹，里面有 <code>HPL.dat</code> ， <code>xhpl</code> ，安装完成。</li>\n<li>执行 <code>mpirun -np 4 ./xhpl</code> ，得到正确结果！</li>\n</ol>\n<p>（OHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH</p>\n<h2 id=\"测试优化\"><a class=\"markdownIt-Anchor\" href=\"#测试优化\">#</a> 测试优化</h2>\n<ol>\n<li>查看内存：</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">free</span> -h</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                total       used       <span class=\"token function\">free</span>     shared    buffers     cached</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Mem:          251G       138G       113G        14M       <span class=\"token number\">4</span>.9G       104G</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>-/+ buffers/cache:        29G       222G</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Swap:         <span class=\"token number\">7</span>.6G       <span class=\"token number\">1</span>.2G       <span class=\"token number\">6</span>.4G</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>使用50G，1个节点，则<span class=\"token variable\">$N</span><span class=\"token operator\">=</span>sqrt<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>*10000<span class=\"token operator\">=</span><span class=\"token operator\">></span><span class=\"token number\">70000</span>$，最大<span class=\"token variable\">$N</span><span class=\"token operator\">=</span>sqrt<span class=\"token punctuation\">(</span><span class=\"token number\">120</span><span class=\"token punctuation\">)</span>*10000<span class=\"token operator\">=</span><span class=\"token operator\">></span><span class=\"token number\">110000</span>$</pre></td></tr></table></figure><ol start=\"2\">\n<li>测试运行：</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>~/HPL/hpl-2.3/bin/Linux$ mpirun -np <span class=\"token number\">8</span> ./xhpl</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>HPLinpack <span class=\"token number\">2.3</span>  --  High-Performance Linpack benchmark  --   December <span class=\"token number\">2</span>, <span class=\"token number\">2018</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Written by A. Petitet and R. Clint Whaley,  Innovative Computing Laboratory, UTK</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Modified by Piotr Luszczek, Innovative Computing Laboratory, UTK</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Modified by Julien Langou, University of Colorado Denver</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>An explanation of the input/output parameters follows:</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>T/V    <span class=\"token builtin class-name\">:</span> Wall <span class=\"token function\">time</span> / encoded variant.</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>N      <span class=\"token builtin class-name\">:</span> The order of the coefficient matrix A.</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>NB     <span class=\"token builtin class-name\">:</span> The partitioning blocking factor.</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>P      <span class=\"token builtin class-name\">:</span> The number of process rows.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Q      <span class=\"token builtin class-name\">:</span> The number of process columns.</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Time   <span class=\"token builtin class-name\">:</span> Time <span class=\"token keyword\">in</span> seconds to solve the linear system.</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Gflops <span class=\"token builtin class-name\">:</span> Rate of execution <span class=\"token keyword\">for</span> solving the linear system.</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>The following parameter values will be used:</pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>N      <span class=\"token builtin class-name\">:</span>   <span class=\"token number\">70000</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>NB     <span class=\"token builtin class-name\">:</span>     <span class=\"token number\">256</span>      <span class=\"token number\">192</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>PMAP   <span class=\"token builtin class-name\">:</span> Row-major process mapping</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>P      <span class=\"token builtin class-name\">:</span>       <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>Q      <span class=\"token builtin class-name\">:</span>       <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>PFACT  <span class=\"token builtin class-name\">:</span>    Left</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>NBMIN  <span class=\"token builtin class-name\">:</span>       <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>NDIV   <span class=\"token builtin class-name\">:</span>       <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>RFACT  <span class=\"token builtin class-name\">:</span>    Left</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>BCAST  <span class=\"token builtin class-name\">:</span>   1ring</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>DEPTH  <span class=\"token builtin class-name\">:</span>       <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>SWAP   <span class=\"token builtin class-name\">:</span> Mix <span class=\"token punctuation\">(</span>threshold <span class=\"token operator\">=</span> <span class=\"token number\">64</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>L1     <span class=\"token builtin class-name\">:</span> transposed form</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>U      <span class=\"token builtin class-name\">:</span> transposed form</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>EQUIL  <span class=\"token builtin class-name\">:</span> <span class=\"token function\">yes</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>ALIGN  <span class=\"token builtin class-name\">:</span> <span class=\"token number\">8</span> double precision words</pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>+ The matrix A is randomly generated <span class=\"token keyword\">for</span> each test.</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>+ The following scaled residual check will be computed:</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token operator\">||</span>Ax-b<span class=\"token operator\">||</span>_oo / <span class=\"token punctuation\">(</span> eps * <span class=\"token punctuation\">(</span> <span class=\"token operator\">||</span> x <span class=\"token operator\">||</span>_oo * <span class=\"token operator\">||</span> A <span class=\"token operator\">||</span>_oo + <span class=\"token operator\">||</span> b <span class=\"token operator\">||</span>_oo <span class=\"token punctuation\">)</span> * N <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>+ The relative machine precision <span class=\"token punctuation\">(</span>eps<span class=\"token punctuation\">)</span> is taken to be               <span class=\"token number\">1</span>.110223e-16</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>+ Computational tests pass <span class=\"token keyword\">if</span> scaled residuals are <span class=\"token function\">less</span> than                <span class=\"token number\">16.0</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>T/V                N    NB     P     Q               Time                 Gflops</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>WR00L2L2       <span class=\"token number\">70000</span>   <span class=\"token number\">256</span>     <span class=\"token number\">2</span>     <span class=\"token number\">4</span>             <span class=\"token number\">894.95</span>             <span class=\"token number\">2</span>.5551e+02</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>HPL_pdgesv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> start <span class=\"token function\">time</span> Fri Dec  <span class=\"token number\">4</span> <span class=\"token number\">22</span>:56:34 <span class=\"token number\">2020</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>HPL_pdgesv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> end <span class=\"token function\">time</span>   Fri Dec  <span class=\"token number\">4</span> <span class=\"token number\">23</span>:11:29 <span class=\"token number\">2020</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token operator\">||</span>Ax-b<span class=\"token operator\">||</span>_oo/<span class=\"token punctuation\">(</span>eps*<span class=\"token punctuation\">(</span><span class=\"token operator\">||</span>A<span class=\"token operator\">||</span>_oo*<span class=\"token operator\">||</span>x<span class=\"token operator\">||</span>_oo+<span class=\"token operator\">||</span>b<span class=\"token operator\">||</span>_oo<span class=\"token punctuation\">)</span>*N<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span>   <span class=\"token number\">1</span>.51800829e-03 <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span> PASSED</pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>T/V                N    NB     P     Q               Time                 Gflops</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>WR00L2L2       <span class=\"token number\">70000</span>   <span class=\"token number\">192</span>     <span class=\"token number\">2</span>     <span class=\"token number\">4</span>             <span class=\"token number\">927.80</span>             <span class=\"token number\">2</span>.4647e+02</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>HPL_pdgesv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> start <span class=\"token function\">time</span> Fri Dec  <span class=\"token number\">4</span> <span class=\"token number\">23</span>:12:17 <span class=\"token number\">2020</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>HPL_pdgesv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> end <span class=\"token function\">time</span>   Fri Dec  <span class=\"token number\">4</span> <span class=\"token number\">23</span>:27:45 <span class=\"token number\">2020</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token operator\">||</span>Ax-b<span class=\"token operator\">||</span>_oo/<span class=\"token punctuation\">(</span>eps*<span class=\"token punctuation\">(</span><span class=\"token operator\">||</span>A<span class=\"token operator\">||</span>_oo*<span class=\"token operator\">||</span>x<span class=\"token operator\">||</span>_oo+<span class=\"token operator\">||</span>b<span class=\"token operator\">||</span>_oo<span class=\"token punctuation\">)</span>*N<span class=\"token punctuation\">)</span><span class=\"token operator\">=</span>   <span class=\"token number\">1</span>.48198443e-03 <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span> PASSED</pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>Finished      <span class=\"token number\">2</span> tests with the following results:</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>                <span class=\"token number\">2</span> tests completed and passed residual checks,</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>                <span class=\"token number\">0</span> tests completed and failed residual checks,</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>                <span class=\"token number\">0</span> tests skipped because of illegal input values.</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>End of Tests.</pre></td></tr><tr><td data-num=\"74\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>\n<p>结果整合：</p>\n<pre><code> ================================================================================\n T/V                N    NB     P     Q               Time                 Gflops\n --------------------------------------------------------------------------------\n WR00L2L2       70000   192     2     4             927.80             2.4647e+02\n WR00L2L2       70000   256     2     4             910.19             2.5124e+02\n WR00L2L2       70000   256     2     4             894.95             2.5551e+02\n WR00L2L2       70000   256     2     4             902.53             2.5337e+02\n WR00L2L2       70000   336     2     4             877.33             2.6065e+02\n WR00L2L2       70000   336     2     4             894.92             2.5553e+02\n WR00L2L2       70000   384     2     4             862.82             2.6503e+02\n ================================================================================\n</code></pre>\n</li>\n</ol>\n<p>看起来选 <code>NB=384</code>  比较好呢，实测浮点峰值为 265.03Gflops＝2.6503 千亿次 / 秒。</p>\n<h2 id=\"绑定进程\"><a class=\"markdownIt-Anchor\" href=\"#绑定进程\">#</a> 绑定进程</h2>\n<p><code>~/HPL/openmpi/bin/mpirun -np 16 --bind-to core --map-by core --report-bindings ./xhpl</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mpirun -np <span class=\"token number\">16</span> --bind-to core --map-by core --report-bindings ./xhpl</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">0</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span>BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">1</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">2</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">2</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">3</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">3</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">4</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">4</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">5</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">5</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">6</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">6</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">7</span> bound to socket <span class=\"token number\">0</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">7</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">8</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">8</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">9</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">9</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">10</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">10</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">11</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">11</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">12</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">12</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">13</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">13</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">14</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">14</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">[</span>amax:18074<span class=\"token punctuation\">]</span> MCW rank <span class=\"token number\">15</span> bound to socket <span class=\"token number\">1</span><span class=\"token punctuation\">[</span>core <span class=\"token number\">15</span><span class=\"token punctuation\">[</span>hwt <span class=\"token number\">0</span>-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/BB<span class=\"token punctuation\">]</span></pre></td></tr></table></figure>",
            "tags": [
                "Linux"
            ]
        },
        {
            "id": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1202/",
            "url": "https://ningchenhui.github.io/Computer-Science/HPC/hpc1202/",
            "title": "高性能计算#01 HPL搭建",
            "date_published": "2020-12-02T08:50:40.000Z",
            "content_html": "<p>- Linpack 测试 GOTOBLAS+MPICH+HPL -<span id=\"more\"></span></p>\n<h2 id=\"环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#环境搭建\">#</a> 环境搭建</h2>\n<h3 id=\"安装goto库\"><a class=\"markdownIt-Anchor\" href=\"#安装goto库\">#</a> 安装 GOTO 库</h3>\n<ol>\n<li>官方下载网站下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudGFjYy51dGV4YXMuZWR1L3Jlc2VhcmNoLWRldmVsb3BtZW50L3RhY2Mtc29mdHdhcmUvZ290b2JsYXMy\">GotoBLAS2-1.13.tar.gz</span></li>\n<li>在 Linux 中解压，执行 <code>make CC=gcc BINARY=64 TARGET=NEHALEM</code>  失败</li>\n</ol>\n<pre><code>../libgoto2_nehalem-r1.13.a(ssymv_U.o): error adding symbols: 错误的值\ncollect2: error: ld returned 1 exit status\n</code></pre>\n<p>继续执行</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>gedit  f_check</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 298 行改为如下：</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># print MAKEFILE \"FEXTRALIB=$linker_L -lgfortran -lm -lquadmath -lm $linker_a\\n\";</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">make</span> clean</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token assign-left variable\">CC</span><span class=\"token operator\">=</span>gcc <span class=\"token assign-left variable\">BINARY</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">TARGET</span><span class=\"token operator\">=</span>NEHALEM <span class=\"token assign-left variable\">USE_OPENMP</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">INTERFACE64</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr></table></figure><p>成功！</p>\n<pre><code>  GotoBLAS build complete.\n\n    OS               ... Linux             \n    Architecture     ... x86_64               \n    BINARY           ... 64bit                 \n    C compiler       ... GCC  (command line : gcc)\n    Fortran compiler ... G77  (command line : g77)\n    Library Name     ... libgoto2_nehalem-r1.13.a (Single threaded)  \n</code></pre>\n<h3 id=\"安装mpich\"><a class=\"markdownIt-Anchor\" href=\"#安装mpich\">#</a> 安装 MPICH</h3>\n<ol>\n<li>官方下载网站下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubXBpY2gub3JnL2Rvd25sb2Fkcy8=\">mpich-3.3.2.tar.gz</span></li>\n<li>解压，新建文件夹 <code>mpich</code>  作为安装文件夹</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> mpich-3.3.2/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./configure --prefix<span class=\"token operator\">=</span>/home/riolu/HPL/mpich</pre></td></tr></table></figure><p>提示无 Fortran 77 compiler，切换至管理员安装</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> gfortran</pre></td></tr></table></figure><p>提示无 C++ compiler，再切换至管理员安装……</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> g++</pre></td></tr></table></figure><ol start=\"3\">\n<li>好了，接下来</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token function\">install</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>gedit ~/.bashrc</pre></td></tr></table></figure><p>在后面加上</p>\n<pre><code>export PATH=/home/riolu/HPL/mpich/bin:$PATH\nexport MANPATH=/home/riolu/HPL/mpich/man:$MANPATH\nexport LD_LIBRARY_PATH=/home/riolu/HPL/mpich/lib:$LD_LIBRARY_PATH //不知要不要\n</code></pre>\n<p>保存后</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">source</span> ~/.bashrc</pre></td></tr></table></figure><p>看下 $PATH</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PATH</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>/home/riolu/HPL/mpich/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</pre></td></tr></table></figure><ol start=\"4\">\n<li>测试</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>riolu@sinki-virtual-machine:~/HPL/mpich-3.3.2$ mpirun -np <span class=\"token number\">10</span> ./examples/cpi</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Process <span class=\"token number\">4</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Process <span class=\"token number\">1</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Process <span class=\"token number\">8</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Process <span class=\"token number\">2</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Process <span class=\"token number\">3</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Process <span class=\"token number\">0</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Process <span class=\"token number\">5</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Process <span class=\"token number\">7</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Process <span class=\"token number\">6</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Process <span class=\"token number\">9</span> of <span class=\"token number\">10</span> is on sinki-virtual-machine</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>pi is approximately <span class=\"token number\">3.1415926544231256</span>, Error is <span class=\"token number\">0.0000000008333325</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>wall clock <span class=\"token function\">time</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.134519</span></pre></td></tr></table></figure><p>成功！</p>\n<h2 id=\"hpl安装与编译\"><a class=\"markdownIt-Anchor\" href=\"#hpl安装与编译\">#</a> HPL 安装与编译</h2>\n<ol>\n<li>官方下载网站下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubmV0bGliLm9yZy9iZW5jaG1hcmsvaHBs\">hpl.tar.gz</span></li>\n<li>进入安装文件夹下的 setup，在 setup 中中找到 <code>Make.Linux_PII_FBLAS</code> ，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1NYWtlLXo5NGY1YjJvbjB2M3ZibXlpZzlhaXo3Y253YWozdnRvZHQ1N2FveDJlODc1YS5teQ==\">将其放置到上层目录并且命名为 Make.my</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3huLS1NYWtlLTQ4NmZ4MTRpLm15\">修改 Make.my</span></li>\n</ol>\n<pre><code>        ARCH         = my\n        TOPdir       = $(HOME)/HPL/hpl-2.3 /*改为hpl解压后产生文件夹*/\n        MPdir        = $(HOME)/HPL/mpich /*改为mpich安装文件夹*/\n        MPlib        = $(MPdir)/lib\n        LAdir        = $(HOME)/HPL/GotoBLAS2 /*GotoBLAS2解压文件夹*/\n        LAinc        =\n        LAlib        = $(LAdir)/libgoto2_nehalemp-r1.13.a\n        HPL_OPTS     = -DHPL_CALL_CBLAS\n        CC           = $(HOME)/HPL/mpich/bin/mpicc\n        CCFLAGS      = $(HPL_DEFS) -fomit-frame-pointer -fopenmp -O3 -funroll-loops\n        LINKER       = $(HOME)/HPL/mpich/bin/mpif77\n        LINKFLAGS = $(CCFLAGS)\n</code></pre>\n<p>执行</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> <span class=\"token assign-left variable\">arch</span><span class=\"token operator\">=</span>my</pre></td></tr></table></figure><ol start=\"4\">\n<li>此时查看安装文件夹下 bin，会看到有 my 文件夹，里面有 <code>HPL.dat</code> ， <code>xhpl</code> ，安装完成。</li>\n</ol>\n<p>结果运行 <code>mpirun -np 2  ./xhpl</code>  得到报错信息？？</p>\n<pre><code>    ** On entry to DTRSM  parameter number  9 had an illegal value\n</code></pre>\n<p>死了。失败，重新编译前加入 <code>make arch=my clean_arch_all</code></p>\n<h2 id=\"集群同步设置\"><a class=\"markdownIt-Anchor\" href=\"#集群同步设置\">#</a> 集群同步设置</h2>\n<h3 id=\"psftp传文件\"><a class=\"markdownIt-Anchor\" href=\"#psftp传文件\">#</a> psftp 传文件</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>psftp<span class=\"token operator\">></span> <span class=\"token function\">open</span> sinki@10.201.0.6</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Using username <span class=\"token string\">\"sinki\"</span><span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sinki@10.201.0.6's password:</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Remote working directory is /home/sinki</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>psftp<span class=\"token operator\">></span>put F:<span class=\"token punctuation\">\\</span>Share<span class=\"token punctuation\">\\</span>GotoBLAS2-1.13.tar.gz</pre></td></tr></table></figure><p>其他用法参考:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ranNvbG8ud29yZHByZXNzLmNvbS8yMDEwLzAzLzA4L3BzZnRwJUU3JTk0JUE4JUU2JUIzJTk1Lw==\">PSFTP 用法</span></p>\n<h3 id=\"xming图形界面和jupyter挂起\"><a class=\"markdownIt-Anchor\" href=\"#xming图形界面和jupyter挂起\">#</a> Xming 图形界面和 jupyter 挂起</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nautilus</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">nohup</span> jupyter notebook --allow-root <span class=\"token operator\">></span> jupyter.log <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span></pre></td></tr></table></figure><hr>\n<p><em>修改日期：2020 年 12 月 4 日</em></p>\n",
            "tags": [
                "Linux"
            ]
        }
    ]
}