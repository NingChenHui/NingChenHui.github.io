



<!DOCTYPE html>
<html lang="zh-CN,en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="欢迎" href="https://ningchenhui.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="欢迎" href="https://ningchenhui.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="欢迎" href="https://ningchenhui.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="Linux" />


<link rel="canonical" href="https://ningchenhui.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0708/">



  <title>
Linux学习 笔记#09 正规表示法与文件格式化处理 - 学习 |
Ning Chenhui = 欢迎 = Welcome</title>
<meta name="generator" content="Hexo 5.4.2"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Linux学习 笔记#09 正规表示法与文件格式化处理
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2021-07-08 15:20:36">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2021-07-08T15:20:36+08:00">2021-07-08</time>
  </span>
  <span class="item" title="本文字数">
    <span class="icon">
      <i class="ic i-pen"></i>
    </span>
    <span class="text">本文字数</span>
    <span>4.9k</span>
    <span class="text">字</span>
  </span>
  <span class="item" title="阅读时长">
    <span class="icon">
      <i class="ic i-clock"></i>
    </span>
    <span class="text">阅读时长</span>
    <span>4 分钟</span>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Ning Chenhui</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="http://wx4.sinaimg.cn/large/6833939bly1giclh3brzpj20zk0m8ann.jpg"></li>
          <li class="item" data-background-image="http://wx4.sinaimg.cn/large/6833939bly1gicitht3xtj20zk0m8k5v.jpg"></li>
          <li class="item" data-background-image="http://wx4.sinaimg.cn/large/6833939bly1gicitf0kl1j20zk0m87fe.jpg"></li>
          <li class="item" data-background-image="https://tvax4.sinaimg.cn/large/007YLcQ6ly1h1685nkov5j31hc0u012l"></li>
          <li class="item" data-background-image="http://wx4.sinaimg.cn/large/6833939bly1gicitzannuj20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="http://wx4.sinaimg.cn/large/6833939bly1giclg5ms2rj20zk0m8u0x.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页·Home</a></span><i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="item" rel="index" title="分类于 学习"><span itemprop="name">学习</span></a>
<meta itemprop="position" content="1" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://ningchenhui.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0708/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="Ning Chenhui">
    <meta itemprop="description" content="Welcome, 正在建设中...">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="欢迎">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <p>像乱码一样的正则表达式！ <span id="more"></span></p>
<h2 id="ch11-正规表示法与文件格式化处理"><a class="markdownIt-Anchor" href="#ch11-正规表示法与文件格式化处理">#</a> Ch11 正规表示法与文件格式化处理</h2>
<h3 id="基础正规表示法"><a class="markdownIt-Anchor" href="#基础正规表示法">#</a> 基础正规表示法</h3>
<p><em>使用正规表示法时，需要特别留意当时环境的语系，练习使用 LANG=C</em></p>
<p>为了避免编码所造成的英文与数字的撷取问题，有些特殊的符号得要了解一下，粗体比较重要:</p>
<table>
<thead>
<tr>
<th style="text-align:center">特殊字段</th>
<th style="text-align:left">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>[:alnum:]</strong></td>
<td style="text-align:left"><strong>代表英文大小写字符及数字，亦即 0-9, A-Z, a-z</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>[:alpha:]</strong></td>
<td style="text-align:left"><strong>代表任何英文大小写字符，亦即 A-Z, a-z</strong></td>
</tr>
<tr>
<td style="text-align:center">[:blank:]</td>
<td style="text-align:left">代表空格键与 [Tab] 按键两者</td>
</tr>
<tr>
<td style="text-align:center">[:cntrl:]</td>
<td style="text-align:left">代表键盘上面的控制按键，亦即包括 CR, LF, Tab, Del… 等等</td>
</tr>
<tr>
<td style="text-align:center"><strong>[:digit:]</strong></td>
<td style="text-align:left"><strong>代表数字而已，亦即 0-9</strong></td>
</tr>
<tr>
<td style="text-align:center">[:graph:]</td>
<td style="text-align:left">除了空格符 (空格键与 [Tab] 按键) 外的其他所有按键</td>
</tr>
<tr>
<td style="text-align:center"><strong>[:lower:]</strong></td>
<td style="text-align:left"><strong>代表小写字符，亦即 a-z</strong></td>
</tr>
<tr>
<td style="text-align:center">[:print:]</td>
<td style="text-align:left">代表任何可以被打印出来的字符</td>
</tr>
<tr>
<td style="text-align:center">[:punct:]</td>
<td style="text-align:left">代表标点符号 (punctuation symbol)，亦即：&quot; ’ ? ! ; : # $…</td>
</tr>
<tr>
<td style="text-align:center"><strong>[:upper:]</strong></td>
<td style="text-align:left"><strong>代表大写字符，亦即 A-Z</strong></td>
</tr>
<tr>
<td style="text-align:center">[:space:]</td>
<td style="text-align:left">任何会产生空白的字符，包括空格键，[Tab], CR 等等</td>
</tr>
<tr>
<td style="text-align:center">[:xdigit:]</td>
<td style="text-align:left">代表 16 进位的数字类型，因此包括： 0-9, A-F, a-f 的数字与字符</td>
</tr>
</tbody>
</table>
<p><code>grep [-vin] [-A] [-B] [--color=auto] '搜寻字符串' filename </code> <br>
选项与参数：<br>
-A ：后面可加数字，为 after 的意思，除了列出该行外，后续的 n 行也列出来；<br>
-B ：后面可加数字，为 befer 的意思，除了列出该行外，前面的 n 行也列出来；<br>
-n : 加行号<br>
 - v : 反向选择<br>
 - i : 忽略大小写<br>
–color=auto 可将正确的那个撷取数据列出颜色</p>
<p>grep 在数据中查寻一个字符串时，是以 “整行” 为单位来进行数据的撷取的.</p>
<h4 id="利用中括号-来搜寻集合字符"><a class="markdownIt-Anchor" href="#利用中括号-来搜寻集合字符">#</a> 利用中括号 [] 来搜寻集合字符</h4>
<ol>
<li>[] 里面不论有几个字符，他都仅代表某『一个』字符，如 ‘t [ae] st’ 可以匹配到 tast 和 test</li>
<li>集合字符里的 ^ 表示反向选择，如 ‘[^g] oo’ 就排除了 goo</li>
<li>对于连续字符，如 [a-z] [A-Z] [0-9] 分别代表小写字母，大写字母，数字。同样 [^a-z] 表示排除小写字母</li>
<li>~<em>A to Z！A to Z！天下を，A to Z！A to Z！取ります！</em>~</li>
<li>[<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>] 等价于 [^a-z]</li>
</ol>
<h4 id="行首与行尾字符"><a class="markdownIt-Anchor" href="#行首与行尾字符">#</a> 行首与行尾字符 ^ $</h4>
<ol>
<li>‘^the’ 表示只匹配行首为 the 的行. ‘<sup>[</sup>a-zA-Z]’ 则表示只匹配行首不是字母的行.</li>
<li>行尾的话就可以 ‘\.$’.</li>
<li>但要注意 win 下会有断行符 ^M$</li>
<li>空行的话就是 ‘^$’</li>
</ol>
<h4 id="任意一个字符-与重复字符"><a class="markdownIt-Anchor" href="#任意一个字符-与重复字符">#</a> 任意一个字符。与重复字符 *</h4>
<ol>
<li>. 代表『一定有一个任意字符』</li>
<li>* 代表『重复前一个字符， 0 到无穷多次』的意思，为组合形态<br>
因此 『o*』代表的是：『拥有空字符或一个 o 以上的字符』, ‘o*’ 就是有没有字符都可以的意思<br>
‘goo*g’ 就是 gog, goog, gooog… 等等</li>
<li>.* 就代表零个或多个任意字符</li>
</ol>
<h4 id="限定连续-re-字符范围"><a class="markdownIt-Anchor" href="#限定连续-re-字符范围">#</a> 限定连续 RE 字符范围 {}</h4>
<p>因为 {与} 的符号在 shell 是有特殊意义的，因此， 我们必须要使用跳脱字符 \ 来让他失去特殊意义才行</p>
<ol>
<li>‘o {2,}’ 代表 2 个及以上 o</li>
<li>‘o {2,5}’ 代表 2 到 5 个 o</li>
<li>‘o {2}’ 代表 2 个 o</li>
</ol>
<h3 id="sed-工具"><a class="markdownIt-Anchor" href="#sed-工具">#</a> sed 工具</h3>
<p>sed 本身也是一个管线命令，可以分析 standard input 的啦！ 而且 sed 还可以将数据进行取代、删除、新增、撷取特定行等等的功能呢！</p>
<p><code>sed [-nefr] [动作] </code> <br>
-n  ：使用安静 (silent) 模式。在一般 sed 的用法中，所有来自 STDIN 的数据一般都会被列出到屏幕上。 但如果加上 -n 参数后，则只有经过 sed 特殊处理的那一行 (或者动作) 才会被列出来。<br>
-e  ：直接在指令行模式上进行 sed 的动作编辑；<br>
-f  ：直接将 sed 的动作写在一个文件内， -f filename 则可以执行 filename 内的 sed 动作；<br>
-r  ：sed 的动作支持的是延伸型正规表示法的语法。(预设是基础正规表示法语法)<br>
-i  ：直接修改读取的文件内容，而不是由屏幕输出。</p>
<p>动作说明：  [n1 [,n2]] function<br>
n1, n2 ：不见得会存在，一般代表『选择进行动作的行数』，举例来说，如果我的动作是需要在 10 到 20 行之间进行的，则『 10,20 [动作行为] 』</p>
<p>function 有底下这些咚咚：<br>
a   ：新增， a 的后面可以接字符串，而这些字符串会在新的一行出现 (目前的下一行)～<br>
c   ：取代， c 的后面可以接字符串，这些字符串可以取代 n1,n2 之间的行！<br>
d   ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；<br>
i   ：插入， i 的后面可以接字符串，而这些字符串会在新的一行出现 (目前的上一行)；<br>
p   ：打印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运作～<br>
s   ：取代，可以直接进行取代的工作！通常这个 s 的动作可以搭配正规表示法！ 例如 1,20s/old/new/g 就是啦！</p>
<p>举例:</p>
<ol>
<li><code>nl /etc/passwd | sed '2,5d' </code>  删除 2 到 5 行。动作要用单引号括住</li>
<li><code>nl /etc/passwd | sed '2,$d' </code>  删除 2 到最后一行.</li>
<li><code>nl /etc/passwd | sed '2a drink tea'</code>  在第二行后面加一行 drink tea. 两行以上的话要用 \</li>
<li><code>nl /etc/passwd | sed -n '5,7p'</code>  取出 5 到 7 行.</li>
<li><code>/sbin/ifconfig eth0 | grep 'inet ' | sed 's/^.*inet //g' | sed 's/ *netmask.*$//g'</code>  删除 ip 的首尾</li>
<li><code>cat /etc/man_db.conf | grep 'MAN'| sed 's/#.*$//g' | sed '/^$/d'</code>  删除含有注释的和空白行</li>
</ol>
<p>sed 后面如果要接超过两个以上的动作时，每个动作前面得加 -e 才行</p>
<h3 id="延伸正规表示法"><a class="markdownIt-Anchor" href="#延伸正规表示法">#</a> 延伸正规表示法</h3>
<p><code>grep -E</code>  或  <code>egrep</code>  来支持延伸正规表示法！</p>
<table>
<thead>
<tr>
<th style="text-align:center">RE 字符</th>
<th style="text-align:left">意义与范例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:left">意义：重复『一个或一个以上』的前一个 RE 字符 <br>范例：搜寻 (god) (good) (goood)… 等等的字符串。  <br> <code>egrep -n 'go+d' regular_express.txt </code></td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:left">意义：『零个或一个』的前一个 RE 字符 <br>范例：搜寻 (gd) (god) 这两个字符串。 <br> <code>egrep -n 'go?d' regular_express.txt </code></td>
</tr>
<tr>
<td style="text-align:center">丨</td>
<td style="text-align:left">意义：用或 (or) 的方式找出数个字符串 <br>范例：搜寻 gd 或 good 这两个字符串<br> <code>egrep -n 'gd丨good' regular_express.txt</code>  <br>那如果还想要找出 dog 呢？ <br> <code>egrep -n 'gd丨good丨dog' regular_express.txt</code></td>
</tr>
<tr>
<td style="text-align:center">()</td>
<td style="text-align:left">意义：找出『群组』字符串 <br>范例：搜寻 (glad) 或 (good) 这两个字符串<br> <code>egrep -n 'g(la丨oo)d' regular_express.txt</code></td>
</tr>
<tr>
<td style="text-align:center">()+</td>
<td style="text-align:left"><br>意义：多个重复群组的判别 <br>范例：将『AxyzxyzxyzxyzC』用 echo 叫出，然后再使用如下的方法搜寻一下！ <br> <code>echo 'AxyzxyzxyzxyzC' 丨 egrep 'A(xyz)+C' </code> <br>上面的例子意思是说，我要找开头是 A 结尾是 C ，中间有一个以上的 “xyz” 字符串～</td>
</tr>
</tbody>
</table>
<h3 id="文件的格式化与相关处理"><a class="markdownIt-Anchor" href="#文件的格式化与相关处理">#</a> 文件的格式化与相关处理</h3>
<h4 id="格式化打印-printf"><a class="markdownIt-Anchor" href="#格式化打印-printf">#</a> 格式化打印： printf</h4>
<p><code>printf '打印格式' ' 实际内容</code> <br>
关于格式方面的几个特殊样式：<br>
\a    警告声音输出<br>
 \b    退格键 (backspace)<br>
\f    清除屏幕 (form feed)<br>
\n    输出新的一行<br>
 \r    亦即 Enter 按键<br>
 \t    水平的 [tab] 按键<br>
 \v    垂直的 [tab] 按键<br>
 \xNN  NN 为两位数的数字，可以转换数字成为字符。<br>
关于 C 程序语言内，常见的变数格式<br>
 % ns   那个 n 是数字， s 代表 string ，亦即多少个字符；<br>
% ni   那个 n 是数字， i 代表 integer ，亦即多少整数字数；<br>
%<span class="exturl" data-url="aHR0cDovL04ubmY=">N.nf</span> 那个 n 与 N 都是数字， f 代表 floating (浮点)，如果有小数字数，<br>
假设我共要十个位数，但小数点有两位，即为 %10.2f 啰！</p>
<p>用例:<br>
 <code>printf '%s\t %s\t %s\t %st %s\t %st %s\t t \n' $(cat printf.txt)</code></p>
<pre><code>Name     Chinese         English         Math    Average
DmTsai   80      60      92      77.33
VBird    75      55      80      70.00
Ken      60      90      70      73.33
</code></pre>
<p><code>printf '%10s %5i %5i %5i %8.2f \n' $(cat printf.txt | grep -v Name) </code></p>
<pre><code>DmTsai    80    60    92    77.33
 VBird    75    55    80    70.00
   Ken    60    90    70    73.33
</code></pre>
<p><code>printf '\x45\n'</code></p>
<pre><code>E
</code></pre>
<h4 id="awk好用的数据处理工具"><a class="markdownIt-Anchor" href="#awk好用的数据处理工具">#</a> awk：好用的数据处理工具</h4>
<p><code>awk '条件类型1&#123;动作1&#125; 条件类型2&#123;动作2&#125; ...' filename</code> <br>
awk 主要是处理『每一行的字段内的数据』，而默认的『字段的分隔符为 “空格键” 或 “[tab] 键” 』</p>
<p>例: <code>last -n 5 | awk '&#123;print $1 &quot;\t&quot; $3&#125;'</code>  调出第一列和第三列<br>
 awk 后续的所有动作是以单引号『 ’ 』括住的，非变量的文字部分，包含上一小节 printf 提到的格式中，都需要使用双引号来定义出来喔！</p>
<p>awk 的内建变量:</p>
<table>
<thead>
<tr>
<th style="text-align:center">变量名称</th>
<th style="text-align:left">代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">NF</td>
<td style="text-align:left">每一行 ($0) 拥有的字段总数</td>
</tr>
<tr>
<td style="text-align:center">NR</td>
<td style="text-align:left">目前 awk 所处理的是『第几行』数据</td>
</tr>
<tr>
<td style="text-align:center">FS</td>
<td style="text-align:left">目前的分隔字符，默认是空格键</td>
</tr>
</tbody>
</table>
<p>例: <code>last -n 5| awk '&#123;print $1 &quot;\t lines: &quot; NR &quot;\t columns: &quot; NF&#125;'</code></p>
<p>awk 的条件支持 C 式的逻辑运算</p>
<p>例: <code>cat /etc/passwd | awk '&#123;FS=&quot;:&quot;&#125; $3 &lt; 10 &#123;print $1 &quot;\t &quot; $3&#125;'</code>  以：为分隔符，输出第三栏小于 10 的</p>
<p>这个定义 FS 在第二行才生效，因此要用 BEGIN<br>
 <code>cat /etc/passwd | awk 'BEGIN &#123;FS=&quot;:&quot;&#125; $3 &lt; 10 &#123;print $1 &quot;\t &quot; $3&#125;'</code></p>
<p>计算功能:</p>
<pre><code>cat pay.txt | \
awk 'NR==1&#123;printf &quot;%10s %10s %10s %10s %10s\n&quot;,$1,$2,$3,$4,&quot;Total&quot; &#125;
NR&gt;=2&#123;total = $2 + $3 + $4
printf &quot;%10s %10d %10d %10d %10.2f\n&quot;, $1, $2, $3, $4, total&#125;'

  Name        1st        2nd        3th      Total
 VBird      23000      24000      25000   72000.00
DMTsai      21000      20000      23000   64000.00
 Bird2      43000      42000      41000  126000.00
</code></pre>
<p>说明:</p>
<ol>
<li>awk 的指令间隔：所有 awk 的动作，亦即在 {} 内的动作，如果有需要多个指令辅助时，可利用分号『;』间隔， 或者直接以 [Enter] 按键来隔开每个指令.</li>
<li>格式化输出时，在 printf 的格式设定当中，务必加上 \n ，才能进行分行！</li>
<li>与 bash shell 的变量不同，在 awk 当中，变量可以直接使用，不需加上 $ 符号。</li>
</ol>
<h4 id="文件比对工具"><a class="markdownIt-Anchor" href="#文件比对工具">#</a> 文件比对工具</h4>
<p>比对两个文件之间的差异的，并且是以行为单位来比对，一般是用在 ASCII 纯文本档的比对上，同一的文件 (或软件) 的新旧版本差异</p>
<p><code>diff [-bBi] from-file to-file</code> <br>
from-file ：一个档名，作为原始比对文件的档名；<br>
to-file   ：一个档名，作为目的比对文件的档名；<br>
注意，from-file 或 to-file 可以 - 取代，那个 - 代表『Standard input』之意。</p>
<p>-b  ：忽略一行当中，仅有多个空白的差异 (例如 “about me” 与 “about     me” 视为相同<br>
 - B  ：忽略空白行的差异。<br>
-i  ：忽略大小写的不同。</p>
<p>打印结果中 &lt;代表左边 from 内容，&gt; 代表右边 to 内容.</p>
<p><code>cmp [-l] file1 file2</code>  利用『字节』单位去比对两个文件<br>
 - l  ：将所有的不同点的字节处都列出来。因为 cmp 预设仅会输出第一个发现的不同点。</p>
<p><code>patch</code>  用 <code>diff -Naur</code>  的结果更新或还原文件.</p>
<p><code>pr</code>  命令可以用来打印文本文档.</p>
<hr>
<p>下一篇：<a href="/2021/07/13/linuxA0713/">Shell Scripts</a><br>
 上一篇：<a href="/2021/07/05/linuxA0705/">认识与学习 BASH</a></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>:lower: <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

      <div class="tags">
          <a href="/tags/Linux/" rel="tag"><i class="ic i-tag"></i> Linux</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2022-04-10 20:47:39" itemprop="dateModified" datetime="2022-04-10T20:47:39+08:00">2022-04-10</time>
  </span>
  <span id="计算机科学/linuxA0708/" class="item leancloud_visitors" data-flag-title="Linux学习 笔记#09 正规表示法与文件格式化处理" title="阅读次数">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">阅读次数</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">次</span>
  </span>
</div>

      

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0705/" itemprop="url" rel="prev" data-background-image="http:&#x2F;&#x2F;wx4.sinaimg.cn&#x2F;large&#x2F;6833939bly1giclhnx9glj20zk0m8npd.jpg" title="Linux学习 笔记#08 bash">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> 学习</span>
  <h3>Linux学习 笔记#08 bash</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E7%89%A9%E7%90%86%E6%B5%B7%E6%B4%8B%E5%AD%A6/oceanA0709/" itemprop="url" rel="next" data-background-image="http:&#x2F;&#x2F;wx4.sinaimg.cn&#x2F;large&#x2F;6833939bly1gicitzannuj20zk0m8b29.jpg" title="物理海洋学基础 笔记#05">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> 物理海洋学</span>
  <h3>物理海洋学基础 笔记#05</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ch11-%E6%AD%A3%E8%A7%84%E8%A1%A8%E7%A4%BA%E6%B3%95%E4%B8%8E%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%A4%84%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text"> Ch11 正规表示法与文件格式化处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%AD%A3%E8%A7%84%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text"> 基础正规表示法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%B8%AD%E6%8B%AC%E5%8F%B7-%E6%9D%A5%E6%90%9C%E5%AF%BB%E9%9B%86%E5%90%88%E5%AD%97%E7%AC%A6"><span class="toc-number">1.1.1.</span> <span class="toc-text"> 利用中括号 [] 来搜寻集合字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%8C%E9%A6%96%E4%B8%8E%E8%A1%8C%E5%B0%BE%E5%AD%97%E7%AC%A6"><span class="toc-number">1.1.2.</span> <span class="toc-text"> 行首与行尾字符 ^ $</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6-%E4%B8%8E%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6"><span class="toc-number">1.1.3.</span> <span class="toc-text"> 任意一个字符。与重复字符 *</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%90%E5%AE%9A%E8%BF%9E%E7%BB%AD-re-%E5%AD%97%E7%AC%A6%E8%8C%83%E5%9B%B4"><span class="toc-number">1.1.4.</span> <span class="toc-text"> 限定连续 RE 字符范围 {}</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sed-%E5%B7%A5%E5%85%B7"><span class="toc-number">1.2.</span> <span class="toc-text"> sed 工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E4%BC%B8%E6%AD%A3%E8%A7%84%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text"> 延伸正规表示法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8E%E7%9B%B8%E5%85%B3%E5%A4%84%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text"> 文件的格式化与相关处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%89%93%E5%8D%B0-printf"><span class="toc-number">1.4.1.</span> <span class="toc-text"> 格式化打印： printf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#awk%E5%A5%BD%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">1.4.2.</span> <span class="toc-text"> awk：好用的数据处理工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%AF%94%E5%AF%B9%E5%B7%A5%E5%85%B7"><span class="toc-number">1.4.3.</span> <span class="toc-text"> 文件比对工具</span></a></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
        <ul>
          <li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linux1111/" rel="bookmark" title="Linux学习 笔记#01">Linux学习 笔记#01</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linux1112/" rel="bookmark" title="Linux学习 笔记#02">Linux学习 笔记#02</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1202/" rel="bookmark" title="高性能计算#01 HPL搭建">高性能计算#01 HPL搭建</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1204/" rel="bookmark" title="高性能计算#02 HPL再次搭建">高性能计算#02 HPL再次搭建</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1205/" rel="bookmark" title="高性能计算#03 HPCG搭建">高性能计算#03 HPCG搭建</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linux1206/" rel="bookmark" title="Linux学习 笔记#03 指令集">Linux学习 笔记#03 指令集</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1206/" rel="bookmark" title="高性能计算#04 HPL测试GPU">高性能计算#04 HPL测试GPU</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linux1224/" rel="bookmark" title="Linux学习 笔记#04 文件权限与目录配置">Linux学习 笔记#04 文件权限与目录配置</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/sunway01/" rel="bookmark" title="超算远程访问">超算远程访问</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/model01/" rel="bookmark" title="初识NetCDF">初识NetCDF</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/model02/" rel="bookmark" title="安装NCL">安装NCL</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0322/" rel="bookmark" title="Linux学习 笔记#05 文件与目录管理">Linux学习 笔记#05 文件与目录管理</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/sunway02/" rel="bookmark" title="超算 - 使用指南">超算 - 使用指南</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0525/" rel="bookmark" title="Linux学习 笔记#06 磁盘与文件系统管理">Linux学习 笔记#06 磁盘与文件系统管理</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0703/" rel="bookmark" title="Linux学习 笔记#07 压缩，备份与Vim">Linux学习 笔记#07 压缩，备份与Vim</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0705/" rel="bookmark" title="Linux学习 笔记#08 bash">Linux学习 笔记#08 bash</a></li><li class="active"><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0708/" rel="bookmark" title="Linux学习 笔记#09 正规表示法与文件格式化处理">Linux学习 笔记#09 正规表示法与文件格式化处理</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0713/" rel="bookmark" title="Linux学习 笔记#10 Shell Scripts">Linux学习 笔记#10 Shell Scripts</a></li><li><a href="/omare220205/" rel="bookmark" title="OMARE 入门（一）">OMARE 入门（一）</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="Ning Chenhui"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">Ning Chenhui</p>
  <div class="description" itemprop="description">正在建设中...</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">35</span>
        <span class="name">文章</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">5</span>
        <span class="name">分类</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">4</span>
        <span class="name">标签</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL05pbmdDaGVuaHVp" title="https:&#x2F;&#x2F;github.com&#x2F;NingChenhui"><i class="ic i-github"></i></span>
      <span class="exturl item email" data-url="bWFpbHRvOnNpbmtpaG9zaXp1a2lAZ21haWwuY29t" title="mailto:sinkihosizuki@gmail.com"><i class="ic i-envelope"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页·Home</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>文章·Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档·Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>分类·Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>标签·Tags</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>关于·About</a>
  </li>

    
  <li class="item">
    <a href="/board/" rel="section"><i class="ic i-comments"></i>留言·Board</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0705/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E7%89%A9%E7%90%86%E6%B5%B7%E6%B4%8B%E5%AD%A6/oceanA0709/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章·Random Posts</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/" title="分类于 地球科学">地球科学</a>
<i class="ic i-angle-right"></i>
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E7%89%A9%E7%90%86%E6%B5%B7%E6%B4%8B%E5%AD%A6/" title="分类于 物理海洋学">物理海洋学</a>
</div>

    <span><a href="/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E7%89%A9%E7%90%86%E6%B5%B7%E6%B4%8B%E5%AD%A6/oceanA0703/" title="物理海洋学基础 笔记#04">物理海洋学基础 笔记#04</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%AD%A6%E4%B9%A0/" title="分类于 学习">学习</a>
</div>

    <span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1205/" title="高性能计算#03 HPCG搭建">高性能计算#03 HPCG搭建</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%AD%A6%E4%B9%A0/" title="分类于 学习">学习</a>
</div>

    <span><a href="/omare220205/" title="OMARE 入门（一）">OMARE 入门（一）</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/" title="分类于 地球科学">地球科学</a>
</div>

    <span><a href="/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/esA0410/" title="北极涛动">北极涛动</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%AD%A6%E4%B9%A0/" title="分类于 学习">学习</a>
</div>

    <span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1204/" title="高性能计算#02 HPL再次搭建">高性能计算#02 HPL再次搭建</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/" title="分类于 地球科学">地球科学</a>
<i class="ic i-angle-right"></i>
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E5%9C%B0%E7%90%83%E7%B3%BB%E7%BB%9F%E7%A7%91%E5%AD%A6/" title="分类于 地球系统科学">地球系统科学</a>
</div>

    <span><a href="/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E5%9C%B0%E7%90%83%E7%B3%BB%E7%BB%9F%E7%A7%91%E5%AD%A6/es1116/" title="地球科学导论 笔记#05">地球科学导论 笔记#05</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/" title="分类于 地球科学">地球科学</a>
<i class="ic i-angle-right"></i>
<a href="/categories/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E7%89%A9%E7%90%86%E6%B5%B7%E6%B4%8B%E5%AD%A6/" title="分类于 物理海洋学">物理海洋学</a>
</div>

    <span><a href="/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%A6/%E7%89%A9%E7%90%86%E6%B5%B7%E6%B4%8B%E5%AD%A6/ocean1110/" title="物理海洋学基础 笔记#01">物理海洋学基础 笔记#01</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%AD%A6%E4%B9%A0/" title="分类于 学习">学习</a>
</div>

    <span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/linuxA0322/" title="Linux学习 笔记#05 文件与目录管理">Linux学习 笔记#05 文件与目录管理</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%AD%A6%E4%B9%A0/" title="分类于 学习">学习</a>
</div>

    <span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/model01/" title="初识NetCDF">初识NetCDF</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E5%AD%A6%E4%B9%A0/" title="分类于 学习">学习</a>
</div>

    <span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/hpc1206/" title="高性能计算#04 HPL测试GPU">高性能计算#04 HPL测试GPU</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论·Recent Comments</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2020 – 
    <span itemprop="copyrightYear">2022</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Ning Chenhui <!--change by hosizuki@ Ning Chenhui--></span>
  </div>
  <div class="count">
    <span class="post-meta-item-icon">
      <i class="ic i-chart-area"></i>
    </span>
    <span title="站点总字数">83k 字</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-eye"></i>
    </span>
    <!-- 不蒜子计数 -->
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_uv" > <span id="busuanzi_value_site_uv"></span>  </span>
    <!-- 不蒜子计数 -->

    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-coffee"></i>
    </span>
    <span title="站点阅读时长">1:15</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '计算机科学/linuxA0708/',
    favicon: {
      show: "（●´3｀●）啧啧",
      hide: "(´Д｀)出大事！"
    },
    search : {
      placeholder: "文章搜索·Search",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,
    copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
